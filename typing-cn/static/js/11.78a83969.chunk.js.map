{"version":3,"sources":["views/test/beep.mp3","views/test/Test.tsx"],"names":["module","exports","Test","useState","key","setKey","keyDesc","setKeyDesc","audioRef","useRef","useEffect","length","toLocaleUpperCase","className","onKeyDown","evt","current","currentTime","pause","setTimeout","play","preventDefault","stopPropagation","src","beepMp3","ref","preload"],"mappings":"wHAAAA,EAAOC,QAAU,IAA0B,kC,wGC+C5BC,UAzCQ,WAAO,IAAD,EACHC,mBAAS,IADN,mBAClBC,EADkB,KACbC,EADa,OAEKF,mBAAS,IAFd,mBAElBG,EAFkB,KAETC,EAFS,KAGnBC,EAAWC,iBAAO,MA2BxB,OAZAC,qBAAU,WACM,KAARN,EACAG,EAAW,kCACI,MAARH,EACPG,EAAW,SACW,IAAfH,EAAIO,OACXJ,EAAWH,EAAIQ,qBAEfL,EAAWH,KAEhB,CAACA,IAGA,yBAAKS,UAAU,QACX,kBAAC,IAAD,CAAOA,UAAU,yBAAyBC,UA3BzB,SAACC,GACtBV,EAAOU,EAAIX,KACPI,EAASQ,UACRR,EAASQ,QAAgBC,YAAc,EACvCT,EAASQ,QAAgBE,QAC1BC,YAAW,WACNX,EAASQ,QAAgBI,SAC3B,KAEPL,EAAIM,iBACJN,EAAIO,qBAkBA,yBAAKT,UAAU,cACX,6BAAMP,IAEV,2BAAOiB,IAAKC,IAASC,IAAKjB,EAAUkB,QAAQ","file":"static/js/11.78a83969.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/beep.01fd8a9c.mp3\";","import { Input } from 'antd';\r\nimport React, { useState, useRef, useEffect } from 'react';\r\n\r\nimport './Test.less';\r\nimport beepMp3 from './beep.mp3';\r\n\r\nconst Test: React.FC = () => {\r\n    const [key, setKey] = useState('');\r\n    const [keyDesc, setKeyDesc] = useState('');\r\n    const audioRef = useRef(null);\r\n\r\n    const mainInputKeyDown = (evt: React.KeyboardEvent) => {\r\n        setKey(evt.key);\r\n        if (audioRef.current) {\r\n            (audioRef.current as any).currentTime = 0;\r\n            (audioRef.current as any).pause();\r\n            setTimeout(() => {\r\n                (audioRef.current as any).play();\r\n            }, 50);\r\n        }\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (key === '') {\r\n            setKeyDesc('点击后输入');\r\n        } else if (key === ' ') {\r\n            setKeyDesc('Space');\r\n        } else if (key.length === 1) {\r\n            setKeyDesc(key.toLocaleUpperCase());\r\n        } else {\r\n            setKeyDesc(key);\r\n        }\r\n    }, [key]);\r\n\r\n    return (\r\n        <div className=\"Test\">\r\n            <Input className=\"home-input Test__input\" onKeyDown={mainInputKeyDown}></Input>\r\n            <div className=\"Test__desc\">\r\n                <div>{keyDesc}</div>\r\n            </div>\r\n            <audio src={beepMp3} ref={audioRef} preload=\"auto\"></audio>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Test;\r\n"],"sourceRoot":""}