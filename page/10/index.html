<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">

<link rel="stylesheet" href="/css/main.css?v=7.1.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.2">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.2" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":true},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="BurningBright">
<meta property="og:url" content="http://linchenguang.com/page/10/index.html">
<meta property="og:site_name" content="BurningBright">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="BurningBright">





  
  
  <link rel="canonical" href="http://linchenguang.com/page/10/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>BurningBright</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BurningBright</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2019/02/21/download-outside-GFW/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/21/download-outside-GFW/" class="post-title-link" itemprop="url">download outside GFW</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-21 10:38:53" itemprop="dateCreated datePublished" datetime="2019-02-21T10:38:53+08:00">2019-02-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-09 13:33:26" itemprop="dateModified" datetime="2019-03-09T13:33:26+08:00">2019-03-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Download-file-in-outsea-server"><a href="#Download-file-in-outsea-server" class="headerlink" title="Download file in outsea server"></a>Download file in outsea server</h2><p><a href="https://www.katacoda.com/" target="_blank" rel="noopener">https://www.katacoda.com/</a><br><a href="https://www.katacoda.com/courses/ubuntu/playground" target="_blank" rel="noopener">https://www.katacoda.com/courses/ubuntu/playground</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://iterm2.com/downloads/stable/iTerm2-3_2_7.zip</span><br></pre></td></tr></table></figure>
<h2 id="Make-channel-through-local-NAT-or-firewall"><a href="#Make-channel-through-local-NAT-or-firewall" class="headerlink" title="Make channel through local NAT or firewall"></a>Make channel through local NAT or firewall</h2><p><a href="https://ngrok.com/" target="_blank" rel="noopener">https://ngrok.com/</a><br>Expose local machine to internet<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ngrok http 80</span><br></pre></td></tr></table></figure></p>
<h2 id="Run-a-upload-service"><a href="#Run-a-upload-service" class="headerlink" title="Run a upload service"></a>Run a upload service</h2><p>run a local server by python</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install bottle</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> bottle <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">base_path = os.path.dirname(os.path.realpath(__file__))  <span class="comment"># get script path</span></span><br><span class="line"></span><br><span class="line">upload_path = os.path.join(base_path, <span class="string">'upload'</span>)   <span class="comment"># upload file directory</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(upload_path):</span><br><span class="line">    os.makedirs(upload_path)</span><br><span class="line"></span><br><span class="line"><span class="meta">@route('/upload', method='POST')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_upload</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""processing uploaded file"""</span></span><br><span class="line">    filedata = request.files.get(<span class="string">'fileField'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> filedata.file:</span><br><span class="line">        file_name = os.path.join(upload_path, filedata.filename)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            filedata.save(file_name)  <span class="comment"># write file</span></span><br><span class="line">        <span class="keyword">except</span> IOError:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'upload failed'</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'success, file name: &#123;&#125;'</span>.format(file_name)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'upload failed'</span></span><br><span class="line"></span><br><span class="line">run(port=<span class="number">80</span>, reloader=<span class="literal">False</span>) <span class="comment"># reloader=True auto-reloading code</span></span><br></pre></td></tr></table></figure>
<h2 id="Upload-file-from-remote-to-local"><a href="#Upload-file-from-remote-to-local" class="headerlink" title="Upload file from remote to local"></a>Upload file from remote to local</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">man curl</span><br><span class="line">curl -F fileField=@iTerm2-3_2_7.zip https://83bc4ec8.ngrok.io/upload -v</span><br></pre></td></tr></table></figure>
<h2 id="PS"><a href="#PS" class="headerlink" title="PS"></a>PS</h2><p>use ngrok tcp mode may much simpler<br>install ngrok client in remote machine may channel through</p>
<p><a href="https://bbs.csdn.net/topics/392190705" target="_blank" rel="noopener">https://bbs.csdn.net/topics/392190705</a><br><a href="https://blog.csdn.net/u011884440/article/details/70504653?utm_source=blogxgwz6" target="_blank" rel="noopener">https://blog.csdn.net/u011884440/article/details/70504653?utm_source=blogxgwz6</a><br><a href="https://blog.csdn.net/fungleo/article/details/80703365" target="_blank" rel="noopener">https://blog.csdn.net/fungleo/article/details/80703365</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2019/02/11/Nginx-https-in-aws/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/11/Nginx-https-in-aws/" class="post-title-link" itemprop="url">Nginx https in aws</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-11 15:30:21" itemprop="dateCreated datePublished" datetime="2019-02-11T15:30:21+08:00">2019-02-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-09 13:33:26" itemprop="dateModified" datetime="2019-03-09T13:33:26+08:00">2019-03-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="install-nginx-in-aws-linux"><a href="#install-nginx-in-aws-linux" class="headerlink" title="install nginx in aws linux"></a>install nginx in aws linux</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo amazon-linux-extras install nginx1.12</span><br></pre></td></tr></table></figure>
<h2 id="apply-certificate"><a href="#apply-certificate" class="headerlink" title="apply certificate"></a>apply certificate</h2><p>apply in wanwang.aliyun.com<br>wait a few minutes, download nginx version certificate package</p>
<h2 id="config-nginx"><a href="#config-nginx" class="headerlink" title="config nginx"></a>config nginx</h2><p>in <code>/etc/nginx/nginx.conf</code><br>add server configuration</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 443;</span><br><span class="line">    server_name abc.com; // your domain</span><br><span class="line">    ssl on;</span><br><span class="line">    root  /home/ec2-user/www/abc.com; // page file</span><br><span class="line">    index index.html index.htm;      // index</span><br><span class="line">    ssl_certificate     cert/214292799730473.pem; // certificate name</span><br><span class="line">    ssl_certificate_key cert/214292799730473.key; // certificate name</span><br><span class="line">    ssl_session_timeout 5m;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    location / &#123;</span><br><span class="line">        index index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name bjubi.com; // your domain</span><br><span class="line">    rewrite ^(.*)$ https://$host$1 permanent; // turn http to https</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="start-nginx"><a href="#start-nginx" class="headerlink" title="start nginx"></a>start nginx</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// check config file</span><br><span class="line">sudo /usr/sbin/nginx -t</span><br><span class="line"></span><br><span class="line">// reload nginx</span><br><span class="line">sudo /usr/sbin/nginx -s reload</span><br></pre></td></tr></table></figure>
<p>some useful command<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// start in manual</span><br><span class="line">sudo /usr/sbin/nginx -c /etc/nginx/nginx.conf</span><br><span class="line">sudo service nginx stop    // stop</span><br><span class="line">sudo service nginx start   // start</span><br><span class="line">sudo service nginx restart // restart</span><br></pre></td></tr></table></figure></p>
<p><a href="https://www.cnblogs.com/tianhei/p/7726505.html" target="_blank" rel="noopener">https://www.cnblogs.com/tianhei/p/7726505.html</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2019/02/11/Regex-in-repository/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/11/Regex-in-repository/" class="post-title-link" itemprop="url">Regex in repository</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-11 10:40:32" itemprop="dateCreated datePublished" datetime="2019-02-11T10:40:32+08:00">2019-02-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-03-09 13:33:26" itemprop="dateModified" datetime="2019-03-09T13:33:26+08:00">2019-03-09</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/regex/" itemprop="url" rel="index"><span itemprop="name">regex</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="URL匹配后缀部分可能会有特殊字符无法匹配"><a href="#URL匹配后缀部分可能会有特殊字符无法匹配" class="headerlink" title="URL匹配后缀部分可能会有特殊字符无法匹配"></a>URL匹配后缀部分可能会有特殊字符无法匹配</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;amp;:/~\+#]*[\w\-\@?^=%&amp;amp;/~\+#])?</span><br></pre></td></tr></table></figure>
<h2 id="URL更简洁的匹配，后缀部分匹配宽泛不精细"><a href="#URL更简洁的匹配，后缀部分匹配宽泛不精细" class="headerlink" title="URL更简洁的匹配，后缀部分匹配宽泛不精细"></a>URL更简洁的匹配，后缀部分匹配宽泛不精细</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[\w\-_/:%]+(\.[\w\-_]+)+([\u0021-\u007e]*)?</span><br></pre></td></tr></table></figure>
<h2 id="找到前是linux换行，后不是’320500’的光标"><a href="#找到前是linux换行，后不是’320500’的光标" class="headerlink" title="找到前是linux换行，后不是’320500’的光标"></a>找到前是linux换行，后不是’320500’的光标</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\n(?!320500)</span><br></pre></td></tr></table></figure>
<h2 id="找到后不是’create’的windows换行。即-r-n-create"><a href="#找到后不是’create’的windows换行。即-r-n-create" class="headerlink" title="找到后不是’create’的windows换行。即\r\n(?!create)"></a>找到后不是’create’的windows换行。即\r\n(?!create)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?!(\r\ncreate))\r\n</span><br></pre></td></tr></table></figure>
<h2 id="找到后不是’地址行’的换行，清除，清除前后即URL"><a href="#找到后不是’地址行’的换行，清除，清除前后即URL" class="headerlink" title="找到后不是’地址行’的换行，清除，清除前后即URL"></a>找到后不是’地址行’的换行，清除，清除前后即URL</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(?!(\n.*java\.html))\n.*</span><br><span class="line">(?&lt;=(\.html))&quot;.*</span><br><span class="line">.*(?&lt;=&quot;)</span><br></pre></td></tr></table></figure>
<h2 id="平衡组匹配？？？"><a href="#平衡组匹配？？？" class="headerlink" title="平衡组匹配？？？"></a>平衡组匹配？？？</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(?&apos;Open&apos;\()[2-9][0-9]&#123;2&#125;(?&apos;-Open&apos;\))\s?[0-9]&#123;3&#125;-[0-9]&#123;4&#125;(?(Open)(?!))|[2-9][0-9]&#123;2&#125;(-|\.)[0-9]&#123;3&#125;\1[0-9]&#123;4&#125;</span><br><span class="line">&lt;div[^&gt;]*&gt;[^&lt;&gt;]*(((?&apos;Open&apos;&lt;div[^&gt;]*&gt;)[^&lt;&gt;]*)+((?&apos;-Open&apos;&lt;/div&gt;)[^&lt;&gt;]*)+)*(?(Open)(?!))&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h2 id="格式化单行xml格式报文"><a href="#格式化单行xml格式报文" class="headerlink" title="格式化单行xml格式报文"></a>格式化单行xml格式报文</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?&lt;=&gt;)(?=&lt;(?!\/))</span><br></pre></td></tr></table></figure>
<h2 id="找非词组空格"><a href="#找非词组空格" class="headerlink" title="找非词组空格"></a>找非词组空格</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?&lt;![a-z,A-Z])|(?![a-z,A-Z])</span><br></pre></td></tr></table></figure>
<h2 id="找到后面是空行的换行符"><a href="#找到后面是空行的换行符" class="headerlink" title="找到后面是空行的换行符"></a>找到后面是空行的换行符</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\r\n(?&lt;=^$)</span><br></pre></td></tr></table></figure>
<h2 id="匹配中文字符"><a href="#匹配中文字符" class="headerlink" title="匹配中文字符"></a>匹配中文字符</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[\u4e00-\u9fa5]</span><br></pre></td></tr></table></figure>
<h2 id="匹配双字节字符-包括汉字在内"><a href="#匹配双字节字符-包括汉字在内" class="headerlink" title="匹配双字节字符(包括汉字在内)"></a>匹配双字节字符(包括汉字在内)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[^\x00-\xff]</span><br></pre></td></tr></table></figure>
<h2 id="匹配空白行"><a href="#匹配空白行" class="headerlink" title="匹配空白行"></a>匹配空白行</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\n\s*\r</span><br></pre></td></tr></table></figure>
<h2 id="匹配Email地址"><a href="#匹配Email地址" class="headerlink" title="匹配Email地址"></a>匹配Email地址</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[\w!#$%&amp;&apos;*+/=?^_`&#123;|&#125;~-]+(?:\.[\w!#$%&amp;&apos;*+/=?^_`&#123;|&#125;~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?</span><br></pre></td></tr></table></figure>
<h2 id="匹配网址URL"><a href="#匹配网址URL" class="headerlink" title="匹配网址URL"></a>匹配网址URL</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[a-zA-z]+://[^\s]*</span><br></pre></td></tr></table></figure>
<h2 id="匹配国内电话号码"><a href="#匹配国内电话号码" class="headerlink" title="匹配国内电话号码"></a>匹配国内电话号码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\&#123;7,8&#125;</span><br></pre></td></tr></table></figure>
<h2 id="匹配QQ号"><a href="#匹配QQ号" class="headerlink" title="匹配QQ号"></a>匹配QQ号</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1-9][0-9]&#123;4,&#125;</span><br></pre></td></tr></table></figure>
<h2 id="匹配中国邮政编码"><a href="#匹配中国邮政编码" class="headerlink" title="匹配中国邮政编码"></a>匹配中国邮政编码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1-9]\d&#123;5&#125;(?!\d)</span><br></pre></td></tr></table></figure>
<h2 id="匹配18位身份证号"><a href="#匹配18位身份证号" class="headerlink" title="匹配18位身份证号"></a>匹配18位身份证号</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(\d&#123;6&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)(\d&#123;3&#125;)([0-9]|X)$</span><br></pre></td></tr></table></figure>
<h2 id="匹配-年-月-日-格式日期"><a href="#匹配-年-月-日-格式日期" class="headerlink" title="匹配(年-月-日)格式日期"></a>匹配(年-月-日)格式日期</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">([0-9]&#123;3&#125;[1-9]|[0-9]&#123;2&#125;[1-9][0-9]&#123;1&#125;|[0-9]&#123;1&#125;[1-9][0-9]&#123;2&#125;|[1-9][0-9]&#123;3&#125;)-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8])))</span><br></pre></td></tr></table></figure>
<h2 id="匹配正整数"><a href="#匹配正整数" class="headerlink" title="匹配正整数"></a>匹配正整数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^[1-9]\d*$</span><br></pre></td></tr></table></figure>
<h2 id="匹配负整数"><a href="#匹配负整数" class="headerlink" title="匹配负整数"></a>匹配负整数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^-[1-9]\d*$</span><br></pre></td></tr></table></figure>
<h2 id="匹配整数"><a href="#匹配整数" class="headerlink" title="匹配整数"></a>匹配整数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^-?[1-9]\d*$</span><br></pre></td></tr></table></figure>
<h2 id="匹配非负整数（正整数-0）"><a href="#匹配非负整数（正整数-0）" class="headerlink" title="匹配非负整数（正整数 + 0）"></a>匹配非负整数（正整数 + 0）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^[1-9]\d*|0$</span><br></pre></td></tr></table></figure>
<h2 id="匹配非正整数（负整数-0）"><a href="#匹配非正整数（负整数-0）" class="headerlink" title="匹配非正整数（负整数 + 0）"></a>匹配非正整数（负整数 + 0）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^-[1-9]\d*|0$</span><br></pre></td></tr></table></figure>
<h2 id="匹配正浮点数"><a href="#匹配正浮点数" class="headerlink" title="匹配正浮点数"></a>匹配正浮点数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$</span><br></pre></td></tr></table></figure>
<h2 id="匹配负浮点数"><a href="#匹配负浮点数" class="headerlink" title="匹配负浮点数"></a>匹配负浮点数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^-[1-9]\d*\.\d*|-0\.\d*[1-9]\d*$</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2019/01/26/wireless-raspberry-audio/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/26/wireless-raspberry-audio/" class="post-title-link" itemprop="url">wireless raspberry audio</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-01-26 19:38:45" itemprop="dateCreated datePublished" datetime="2019-01-26T19:38:45+08:00">2019-01-26</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-09-17 07:47:16" itemprop="dateModified" datetime="2020-09-17T07:47:16+08:00">2020-09-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/raspberry/" itemprop="url" rel="index"><span itemprop="name">raspberry</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="https://github.com/BaReinhard/Super-Simple-Raspberry-Pi-Audio-Receiver-Install/blob/master/img/SSRPARI_1080_668.png?raw=true" alt></p>
<h1 id="System"><a href="#System" class="headerlink" title="System"></a>System</h1><p><a href="https://www.raspberrypi.org/downloads/" target="_blank" rel="noopener">https://www.raspberrypi.org/downloads/</a><br>Install <code>Raspbian Stretch</code></p>
<ul>
<li>Version:November 2018</li>
<li>Release date:2018-11-13</li>
<li>Kernel version:4.14</li>
</ul>
<h2 id="Origin-shift"><a href="#Origin-shift" class="headerlink" title="Origin shift"></a>Origin shift</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/apt/sources.list</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpi</span><br><span class="line">deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ stretch main contrib non-free rpi</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/apt/sources.list.d/raspi.list</span><br><span class="line">deb http://mirror.tuna.tsinghua.edu.cn/raspberrypi/ stretch main ui</span><br><span class="line">deb-src http://mirror.tuna.tsinghua.edu.cn/raspberrypi/ stretch main ui</span><br></pre></td></tr></table></figure>
<p>sudo apt-get update</p>
<h2 id="Config-wifi-amp-ssh"><a href="#Config-wifi-amp-ssh" class="headerlink" title="Config wifi &amp; ssh"></a>Config wifi &amp; ssh</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/wpa_supplicant/wpa_supplicant.conf</span><br><span class="line">network=&#123;</span><br><span class="line">    ssid=&quot;SSID&quot;</span><br><span class="line">    key_mgmt=WPA-PSK</span><br><span class="line">    psk=&quot;PASSWD&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ifconfig wlan0</span><br><span class="line">sudo ifdown wlan0</span><br><span class="line">sudo ifup wlan0</span><br><span class="line"></span><br><span class="line"># or</span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure>
<h3 id="open-ssh-service"><a href="#open-ssh-service" class="headerlink" title="open ssh service"></a>open ssh service</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo raspi-config</span><br></pre></td></tr></table></figure>
<p>open ssh in configuration</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Socket error Event: 32 Error: 10053</span><br></pre></td></tr></table></figure>
<p>if terminal throw exception then check service<br><code>sudo sshd -t</code></p>
<p>key not exist:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 2048 -f /etc/ssh/ssh_host_rsa_key</span><br></pre></td></tr></table></figure></p>
<p>config rsa_key in <code>/etc/ssh</code></p>
<p>permission not allow:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod 600 /etc/ssh/*</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service ssh restart</span><br></pre></td></tr></table></figure>
<p>add command to <code>/etc/rc.load</code> before <code>exit 0</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/ssh start</span><br></pre></td></tr></table></figure></p>
<h2 id="Install-A2DP"><a href="#Install-A2DP" class="headerlink" title="Install A2DP"></a>Install A2DP</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/bareinhard/super-simple-raspberry-pi-audio-receiver-install</span><br><span class="line">cd super-simple-raspberry-pi-audio-receiver-install</span><br><span class="line">git checkout stretch-fix</span><br><span class="line">sudo ./install.sh</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># install home version</span><br><span class="line">2. Install the Raspberry Pi Audio Receiver Home Installation</span><br><span class="line"></span><br><span class="line"># default name</span><br><span class="line">Do you want all the Devices to use the same name? (y/n) : Choose y</span><br><span class="line"></span><br><span class="line"># default passwd</span><br><span class="line">Device WiFi Password: Choose Password</span><br><span class="line"></span><br><span class="line"># no sound card</span><br><span class="line">0. No Sound Card</span><br></pre></td></tr></table></figure>
<h2 id="Install-create-ap"><a href="#Install-create-ap" class="headerlink" title="Install create_ap"></a>Install create_ap</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/oblique/create_ap.git</span><br><span class="line">cd create_ap</span><br><span class="line">sudo make install</span><br><span class="line">sudo apt-get install util-linux procps hostapd iproute2 iw haveged dnsmasq</span><br></pre></td></tr></table></figure>
<p>add command to <code>/etc/rc.load</code> before <code>exit 0</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup sudo create_ap -n wlan0 raspberry raspberry --no-virl &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2019/01/26/wireless-raspberry-audio/raspberry_ios_audio.png" alt="raspberry_ios_audio.png"></p>
<p>here i use AP without Internet sharing.<br>if network environment is good, raspberry have internet then add <code>eth0</code> to command.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create_ap -m bridge wlan0 eth0 MyAccessPoint MyPassPhrase</span><br></pre></td></tr></table></figure></p>
<p>enjoy IOS airplay :)</p>
<p><a href="http://shumeipai.nxez.com/2018/12/28/install-a2dp-to-turn-the-raspberry-pi-into-a-bluetooth-speaker.html" target="_blank" rel="noopener">http://shumeipai.nxez.com/2018/12/28/install-a2dp-to-turn-the-raspberry-pi-into-a-bluetooth-speaker.html</a><br><a href="https://blog.csdn.net/huayucong/article/details/51376506" target="_blank" rel="noopener">https://blog.csdn.net/huayucong/article/details/51376506</a><br><a href="https://blog.csdn.net/newtonsm/article/details/78859152" target="_blank" rel="noopener">https://blog.csdn.net/newtonsm/article/details/78859152</a><br><a href="https://github.com/bareinhard/super-simple-raspberry-pi-audio-receiver-install" target="_blank" rel="noopener">https://github.com/bareinhard/super-simple-raspberry-pi-audio-receiver-install</a><br><a href="https://github.com/oblique/create_ap" target="_blank" rel="noopener">https://github.com/oblique/create_ap</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2019/01/20/Vector-group-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/01/20/Vector-group-1/" class="post-title-link" itemprop="url">Vector group (1)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-01-20 10:07:38" itemprop="dateCreated datePublished" datetime="2019-01-20T10:07:38+08:00">2019-01-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-06-16 20:50:36" itemprop="dateModified" datetime="2020-06-16T20:50:36+08:00">2020-06-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/math/" itemprop="url" rel="index"><span itemprop="name">math</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="已知向量组，证明-B组能由A组线性表示，但A组不能由B组表示。"><a href="#已知向量组，证明-B组能由A组线性表示，但A组不能由B组表示。" class="headerlink" title="已知向量组，证明 B组能由A组线性表示，但A组不能由B组表示。"></a>已知向量组，证明 B组能由A组线性表示，但A组不能由B组表示。</h3><script type="math/tex; mode=display">
A: a1=\begin{pmatrix}
   0 \\
   1 \\
   2 \\
   3
\end{pmatrix},
a2=\begin{pmatrix}
   3 \\
   0 \\
   1 \\
   2
\end{pmatrix},
a3=\begin{pmatrix}
   2 \\
   3 \\
   0 \\
   1
\end{pmatrix};

B: b1=\begin{pmatrix}
   2 \\
   1 \\
   1 \\
   2
\end{pmatrix},
b2=\begin{pmatrix}
   0 \\
   -2 \\
   1 \\
   1
\end{pmatrix},
b3=\begin{pmatrix}
   4 \\
   4 \\
   1 \\
   3
\end{pmatrix};</script><script type="math/tex; mode=display">
R(A,B)=\begin{pmatrix}
   1 & 0 & 3 & 1 & -2 & 4  \\
   0 & 1 & -6 & -1 & 5 & -7  \\
   0 & 2 & -8 & -1 & 7 & -9  \\
   0 & 3 & 2 & 2 & 0 & 4
\end{pmatrix}
=\begin{pmatrix}
   1 & 0 & 3 & 1 & -2 & 4  \\
   0 & 1 & -6 & -1 & 5 & -7  \\
   0 & 0 & 0 & 0 & 0 & 0  \\
   0 & 0 & 0 & 0 & 0 & 0
\end{pmatrix}=2</script><script type="math/tex; mode=display">
R(A)=\begin{pmatrix}
   1 & 0 & 3  \\
   0 & 1 & -6 \\
   0 & 0 & 0 \\
   0 & 0 & 0
\end{pmatrix}=2</script><p>R(A, B) = R(A)<br>B 能由 A 线性表示</p>
<script type="math/tex; mode=display">
R(B,A)=\begin{pmatrix}
   1 & 1 & 1 & 2 & 1 & 0  \\
   0 & -1 & 1 & -1 & 0 & 1  \\
   0 & -3 & 3 & -1 & -1 & 3  \\
   0 & -2 & 2 & -4 & 1 & 2
\end{pmatrix}
=\begin{pmatrix}
   1 & 1 & 1 & 2 & 1 & 4  \\
   0 & 1 & 1 & 3 & -1 & 3  \\
   0 & 0 & 1 & -2 & 0 & 0  \\
   0 & 0 & 0 & 1 & 0 & 0
\end{pmatrix}=4</script><script type="math/tex; mode=display">
R(B)=\begin{pmatrix}
   1 & 1 & 1  \\
   0 & 1 & -1 \\
   0 & 0 & 0 \\
   0 & 0 & 0
\end{pmatrix}=2</script><p>A 不能由 B 线性表示</p>
<h3 id="已知向量组A、B-，证明A、B等价"><a href="#已知向量组A、B-，证明A、B等价" class="headerlink" title="已知向量组A、B ，证明A、B等价"></a>已知向量组A、B ，证明A、B等价</h3><script type="math/tex; mode=display">
A: a1=\begin{pmatrix}
   0 \\
   1 \\
   1
\end{pmatrix},
a2=\begin{pmatrix}
   1 \\
   1 \\
   0
\end{pmatrix};

B: b1=\begin{pmatrix}
   -1 \\
   0 \\
   1
\end{pmatrix},
b2=\begin{pmatrix}
   1 \\
   2 \\
   1
\end{pmatrix},
b2=\begin{pmatrix}
   3 \\
   2 \\
   -1
\end{pmatrix};</script><p>观察可知 R（A) = 2</p>
<script type="math/tex; mode=display">
R(B)=\begin{pmatrix}
   1 & 0 & 1  \\
   0 & 1 & 1 \\
   0 & 0 & 0
\end{pmatrix}=2</script><p>R(A) = R(B) = R(A, B) 即A、B等价</p>
<h3 id="问a取什么值时下列向量组线性相关"><a href="#问a取什么值时下列向量组线性相关" class="headerlink" title="问a取什么值时下列向量组线性相关"></a>问a取什么值时下列向量组线性相关</h3><script type="math/tex; mode=display">
A: a1=\begin{pmatrix}
   a \\
   1 \\
   1
\end{pmatrix},
a2=\begin{pmatrix}
   1 \\
   a \\
   -1
\end{pmatrix},
a3=\begin{pmatrix}
   1 \\
   -1 \\
   a
\end{pmatrix};</script><p>最简形：</p>
<script type="math/tex; mode=display">
A: \begin{pmatrix}
   1 & \frac{1}{a} & \frac{1}{a} \\
   0 & a-\frac{1}{a} & -1-\frac{1}{a} \\
   0 & -1-\frac{1}{a} & a-\frac{1}{a}
\end{pmatrix}</script><p>向量组线性相关即 R(A)&lt;3，则有：</p>
<script type="math/tex; mode=display">
a-\frac{1}{a}=1+\frac{1}{a}
(a+1)(a-2)=0</script><p>a = -1 或 a = 2</p>
<h3 id="设a1-a2线性无关，a1-b-a2-b线性相关，求b用a1-a2线性表示的表示式"><a href="#设a1-a2线性无关，a1-b-a2-b线性相关，求b用a1-a2线性表示的表示式" class="headerlink" title="设a1,a2线性无关，a1+b,a2+b线性相关，求b用a1,a2线性表示的表示式"></a>设a1,a2线性无关，a1+b,a2+b线性相关，求b用a1,a2线性表示的表示式</h3><p>设 b 可由 <script type="math/tex">xa_1 + ya_2</script>表示</p>
<p>因为a1+b,a2+b线性相关, 所以<script type="math/tex">(x + 1)a_1 + ya_2 = z(xa_1 + (y + 1)a_2)</script></p>
<script type="math/tex; mode=display">
(x + 1)a_1 + ya_2 = z(xa_1 + (y + 1)a_2)</script><p>有<script type="math/tex">\frac{a+1}{zx} = \frac{y}{y+1}</script></p>
<p>设 x = c, 有 y = -(1+c), 可得<script type="math/tex">b = ca_1 - (1+c)a_2</script></p>
<p><a href="https://katex.org/#demo" target="_blank" rel="noopener">https://katex.org/#demo</a><br><a href="https://katex.org/docs/supported.html" target="_blank" rel="noopener">https://katex.org/docs/supported.html</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2018/12/23/Phpstorm-debug-setting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/23/Phpstorm-debug-setting/" class="post-title-link" itemprop="url">Phpstorm debug setting</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-12-23 18:42:50" itemprop="dateCreated datePublished" datetime="2018-12-23T18:42:50+08:00">2018-12-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-06-17 22:48:59" itemprop="dateModified" datetime="2020-06-17T22:48:59+08:00">2020-06-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/php/" itemprop="url" rel="index"><span itemprop="name">php</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="xdebug-official-websit"><a href="#xdebug-official-websit" class="headerlink" title="xdebug official websit"></a>xdebug official websit</h2><p>windows download dll base on <code>localhost/phpinfo.php</code>:<br><a href="https://xdebug.org/download.php" target="_blank" rel="noopener">https://xdebug.org/download.php</a><br>linux download:<br><a href="https://xdebug.org/wizard.php" target="_blank" rel="noopener">https://xdebug.org/wizard.php</a></p>
<h2 id="php-ini-edit"><a href="#php-ini-edit" class="headerlink" title="php.ini edit"></a>php.ini edit</h2><p>add xdebug setting at the end of <code>php.ini</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[xdebug]</span><br><span class="line">zend_extension  = &quot;D:/phpStudy/php56n/php_xdebug-2.2.7-5.6-vc11-nts-x86_64.dll&quot;</span><br><span class="line"></span><br><span class="line">xdebug.remote_enable = On</span><br><span class="line">xdebug.profiler_enable = On</span><br><span class="line">xdebug.profiler_enable_trigger = On</span><br><span class="line">xdebug.profiler_output_name = cachegrind.out.%t.%p</span><br><span class="line">xdebug.profiler_output_dir =&quot;D:/phpStudy/php56n/tmp&quot;</span><br><span class="line">xdebug.show_local_vars=0</span><br><span class="line"></span><br><span class="line">xdebug.var_display_max_children=128</span><br><span class="line">xdebug.var_display_max_data=512</span><br><span class="line">xdebug.var_display_max_depth=5</span><br><span class="line"></span><br><span class="line">xdebug.idekey=PhpStorm</span><br><span class="line">xdebug.remote_enable = On</span><br><span class="line">xdebug.remote_host=127.0.0.1</span><br><span class="line">xdebug.remote_port=9000</span><br><span class="line">xdebug.remote_handler=dbgp</span><br></pre></td></tr></table></figure></p>
<p>checkout xdebug model is available <code>php -m</code> <code>php -i</code></p>
<h2 id="Browser-setting"><a href="#Browser-setting" class="headerlink" title="Browser setting"></a>Browser setting</h2><p>chrome install <code>xdebug helper</code><br>firefox install <code>theeasiestxdebug</code></p>
<p>IDE key set to the same as property in <code>php.ini</code></p>
<h2 id="phpstorm-setting"><a href="#phpstorm-setting" class="headerlink" title="phpstorm setting"></a>phpstorm setting</h2><p>php CLI interpreter setting:<br><img src="/2018/12/23/Phpstorm-debug-setting/20181223185642.png" alt="20181223185642.png"></p>
<p>set debug listen server ip or domain<br><img src="/2018/12/23/Phpstorm-debug-setting/20181223185503.png" alt="20181223185503.png"></p>
<p>set DBGp key/port <strong>[same as property in php.ini]</strong><br><img src="/2018/12/23/Phpstorm-debug-setting/20181223185452.png" alt="20181223185452.png"></p>
<p>build a local php debug server [skip if a remote server exists]<br><img src="/2018/12/23/Phpstorm-debug-setting/20181223185714.png" alt="20181223185714.png"></p>
<p>add a server listener deal with debug session in php<br><img src="/2018/12/23/Phpstorm-debug-setting/20181223185724.png" alt="20181223185724.png"></p>
<h2 id="fundamentals"><a href="#fundamentals" class="headerlink" title="fundamentals"></a>fundamentals</h2><p><img src="/2018/12/23/Phpstorm-debug-setting/20181223194910.png" alt="20181223194910.png"></p>
<p><a href="https://www.cnblogs.com/anyeshe/p/5746404.html" target="_blank" rel="noopener">https://www.cnblogs.com/anyeshe/p/5746404.html</a></p>
<p><a href="https://www.cnblogs.com/dongruiha/p/6739838.html" target="_blank" rel="noopener">https://www.cnblogs.com/dongruiha/p/6739838.html</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2018/11/24/spring-kafka-NoSuchMethodError-exception/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/11/24/spring-kafka-NoSuchMethodError-exception/" class="post-title-link" itemprop="url">spring-kafka NoSuchMethodError exception</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-24 18:17:50" itemprop="dateCreated datePublished" datetime="2018-11-24T18:17:50+08:00">2018-11-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-12-16 14:31:36" itemprop="dateModified" datetime="2018-12-16T14:31:36+08:00">2018-12-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/db/" itemprop="url" rel="index"><span itemprop="name">db</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">java.lang.NoSuchMethodError: org.springframework.messaging.handler.annotation.support.MessageMethodArgumentResolver: method &lt;init&gt;()V not found</span><br><span class="line">    at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor$KafkaHandlerMethodFactoryAdapter.createDefaultMessageHandlerMethodFactory(KafkaListenerAnnotationBeanPostProcessor.java:<span class="number">639</span>)</span><br><span class="line">    at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor$KafkaHandlerMethodFactoryAdapter.getMessageHandlerMethodFactory(KafkaListenerAnnotationBeanPostProcessor.java:<span class="number">616</span>)</span><br><span class="line">    at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor$KafkaHandlerMethodFactoryAdapter.createInvocableHandlerMethod(KafkaListenerAnnotationBeanPostProcessor.java:<span class="number">611</span>)</span><br><span class="line">    at org.springframework.kafka.config.MethodKafkaListenerEndpoint.configureListenerAdapter(MethodKafkaListenerEndpoint.java:<span class="number">111</span>)</span><br><span class="line">    at org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListener(MethodKafkaListenerEndpoint.java:<span class="number">97</span>)</span><br><span class="line">    at org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListener(MethodKafkaListenerEndpoint.java:<span class="number">40</span>)</span><br><span class="line">    at org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupMessageListener(AbstractKafkaListenerEndpoint.java:<span class="number">277</span>)</span><br><span class="line">    at org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupListenerContainer(AbstractKafkaListenerEndpoint.java:<span class="number">262</span>)</span><br><span class="line">    at org.springframework.kafka.config.AbstractKafkaListenerContainerFactory.createListenerContainer(AbstractKafkaListenerContainerFactory.java:<span class="number">188</span>)</span><br><span class="line">    at org.springframework.kafka.config.AbstractKafkaListenerContainerFactory.createListenerContainer(AbstractKafkaListenerContainerFactory.java:<span class="number">46</span>)</span><br><span class="line">    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.createListenerContainer(KafkaListenerEndpointRegistry.java:<span class="number">182</span>)</span><br><span class="line">    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.registerListenerContainer(KafkaListenerEndpointRegistry.java:<span class="number">154</span>)</span><br><span class="line">    at org.springframework.kafka.config.KafkaListenerEndpointRegistry.registerListenerContainer(KafkaListenerEndpointRegistry.java:<span class="number">128</span>)</span><br><span class="line">    at org.springframework.kafka.config.KafkaListenerEndpointRegistrar.registerAllEndpoints(KafkaListenerEndpointRegistrar.java:<span class="number">138</span>)</span><br><span class="line">    at org.springframework.kafka.config.KafkaListenerEndpointRegistrar.afterPropertiesSet(KafkaListenerEndpointRegistrar.java:<span class="number">132</span>)</span><br><span class="line">    at org.springframework.kafka.annotation.KafkaListenerAnnotationBeanPostProcessor.afterSingletonsInstantiated(KafkaListenerAnnotationBeanPostProcessor.java:<span class="number">224</span>)</span><br><span class="line">    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:<span class="number">796</span>)</span><br><span class="line">    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:<span class="number">861</span>)</span><br><span class="line">    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:<span class="number">541</span>)</span><br><span class="line">    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:<span class="number">122</span>)</span><br><span class="line">    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:<span class="number">759</span>)</span><br><span class="line">    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:<span class="number">369</span>)</span><br><span class="line">    at org.springframework.boot.SpringApplication.run(SpringApplication.java:<span class="number">313</span>)</span><br><span class="line">    at org.springframework.boot.SpringApplication.run(SpringApplication.java:<span class="number">1185</span>)</span><br><span class="line">    at org.springframework.boot.SpringApplication.run(SpringApplication.java:<span class="number">1174</span>)</span><br></pre></td></tr></table></figure>
<p>exclude <code>spring-message</code> at <code>spring-kafka</code> in pom<br>add <code>spring-message</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-messaging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><a href="https://www.oschina.net/question/2417189_2247108" target="_blank" rel="noopener">https://www.oschina.net/question/2417189_2247108</a><br><a href="https://blog.csdn.net/wangshuminjava/article/details/80241922" target="_blank" rel="noopener">https://blog.csdn.net/wangshuminjava/article/details/80241922</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2018/11/22/Spring-Boot-KafkaListener-concurrent/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/11/22/Spring-Boot-KafkaListener-concurrent/" class="post-title-link" itemprop="url">Spring Boot KafkaListener concurrent</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-22 18:55:00" itemprop="dateCreated datePublished" datetime="2018-11-22T18:55:00+08:00">2018-11-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-12-16 14:31:36" itemprop="dateModified" datetime="2018-12-16T14:31:36+08:00">2018-12-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/db/" itemprop="url" rel="index"><span itemprop="name">db</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2018/11/22/Spring-Boot-KafkaListener-concurrent/20181122185719971.png" alt="20181122185719971.png"></p>
<h2 id="Cocurrent-consume"><a href="#Cocurrent-consume" class="headerlink" title="Cocurrent consume"></a>Cocurrent consume</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =</span><br><span class="line">      <span class="keyword">new</span> ConcurrentKafkaListenerContainerFactory&lt;&gt;();</span><br><span class="line">factory.setConcurrency(<span class="number">7</span>);</span><br></pre></td></tr></table></figure>
<p>Increase kafka consumer concurrent thread can increase out put speed.<br>Be careful,topic partition num may cause bottleneck.<br>The consumer groups worker should not bigger than partition num, otherwise thread be wasted.</p>
<p>The system’s lowest part define the performence.<br>If consumer’s post order process is slow, thread may be block in a brief.<br>In more worse situation, the session can out of time, offset be reset.</p>
<h2 id="Consume-in-batch"><a href="#Consume-in-batch" class="headerlink" title="Consume in batch"></a>Consume in batch</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =</span><br><span class="line">      <span class="keyword">new</span> ConcurrentKafkaListenerContainerFactory&lt;&gt;();</span><br><span class="line">factory.setBatchListener(<span class="keyword">true</span>);</span><br><span class="line">factory.getContainerProperties().setPollTimeout(pollTimeout);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">consumerConfig.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, maxPollRecords);</span><br></pre></td></tr></table></figure>
<p>the default <code>max.poll.interval.ms=300000</code>, <code>max.poll.records=50</code> every batch fetch fifty messages.</p>
<p>this may cause warn <code>Auto offset commit failed</code></p>
<blockquote>
<p>Commit cannot be completed since the group has already rebalanced and assigned the partitions to another member.<br> This means that the time between subsequent calls to poll() was longer than the configured <strong>max.poll.interval.ms</strong>,<br> which typically implies that <strong>the poll loop is spending too much time</strong> message processing.<br> You can address this either by increasing the session timeout or by reducing the maximum size of batches returned in poll() with max.poll.records.</p>
</blockquote>
<p>you can reduce <code>max.poll.records</code>, or increse <code>session.timeout.ms</code><br><code>heatbeat.interval.ms</code> must be lower than <code>session.timeout.ms</code>, and is usually set to a 1/3 of the timeout value.</p>
<p>change <code>enable.auto.commit</code> to <code>false</code>, use <code>spring-kafka</code> internal mechanism manage message’s commit.<br>if <code>enable.auto.commit</code> is true, then if the processing time is lower then the <code>auto.commit.interval.ms</code><br>the ack[commit] will wait for the cycle come.</p>
<h2 id="Increase-partitions"><a href="#Increase-partitions" class="headerlink" title="Increase partitions"></a>Increase partitions</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-topics.sh --zookeeper localhost:2181 --alter --partitions 30 --topic demo</span><br></pre></td></tr></table></figure>
<p>Partition can only increase not decrease, in sync increase the consumer groups’ worker number can increase output speed.<br>If kafka cluster run in three machine, then cluster have 3 brokers, create demo topic with 3 partitions.<br>For high availability, set every partition have 2 replication-factors, then every broker will have two kafka log files.</p>
<p>If one machine deaded, ther two can still work.<br>If set replication-factors to 3, then every two machine deaded topic can still work.</p>
<p>brokerA   partiton0/partiton1<br>brokerB   partiton1/partiton2<br>brokerC   partiton2/partiton0</p>
<p>brokerA   partiton0/partiton1/partiton2<br>brokerB   partiton1/partiton2/partiton0<br>brokerC   partiton2/partiton0/partiton1</p>
<hr>
<p>modify replication-factor<br><a href="https://blog.csdn.net/russle/article/details/83421904" target="_blank" rel="noopener">https://blog.csdn.net/russle/article/details/83421904</a></p>
<p>optimize consumer<br><a href="https://docs.spring.io/spring-kafka/reference/html/_reference.html" target="_blank" rel="noopener">https://docs.spring.io/spring-kafka/reference/html/_reference.html</a><br><a href="https://blog.csdn.net/zwgdft/article/details/54633105" target="_blank" rel="noopener">https://blog.csdn.net/zwgdft/article/details/54633105</a></p>
<p>Warn:<br><a href="https://www.jianshu.com/p/4e00dff97f39" target="_blank" rel="noopener">https://www.jianshu.com/p/4e00dff97f39</a><br><a href="https://blog.csdn.net/zwx19921215/article/details/83269445" target="_blank" rel="noopener">https://blog.csdn.net/zwx19921215/article/details/83269445</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2018/11/12/How-to-choose-the-number-of-topics-partitions-in-a-Kafka-cluster/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/11/12/How-to-choose-the-number-of-topics-partitions-in-a-Kafka-cluster/" class="post-title-link" itemprop="url">How to choose the number of topics/partitions in a Kafka cluster?</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-12 14:58:30" itemprop="dateCreated datePublished" datetime="2018-11-12T14:58:30+08:00">2018-11-12</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-12-16 14:31:36" itemprop="dateModified" datetime="2018-12-16T14:31:36+08:00">2018-12-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/db/" itemprop="url" rel="index"><span itemprop="name">db</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>This is a common question asked by many Kafka users.<br>The goal of this post is to explain a few important determining factors and provide a few simple formulas.</p>
<h2 id="More-Partitions-Lead-to-Higher-Throughput"><a href="#More-Partitions-Lead-to-Higher-Throughput" class="headerlink" title="More Partitions Lead to Higher Throughput"></a>More Partitions Lead to Higher Throughput</h2><p>The first thing to understand is that <strong>a topic partition is the unit of parallelism in Kafka</strong>.<br>On both the producer and the broker side, writes to different partitions can be done fully in parallel.<br>So expensive operations such as compression can utilize more hardware resources.<br>On the consumer side, Kafka always gives a single partition’s data to one consumer thread.<br>Thus, the degree of parallelism in the consumer (within a consumer group) is bounded by the number of partitions being consumed.<br>Therefore, in general, <strong>the more partitions</strong> there are in a Kafka cluster, <strong>the higher the throughput</strong> one can achieve.</p>
<p>A rough formula for picking the number of partitions is based on throughput.<br>You measure the throughout that you can achieve on a single partition for production (call it p) and consumption (call it c).<br>Let’s say your target throughput is t.<br>Then you need to have at least max(t/p, t/c) partitions.<br>The per-partition throughput that one can achieve on the producer depends on configurations such as the batching size, compression codec, type of acknowledgement, replication factor, etc.<br>However, in general, <strong>one can produce at 10s of MB/sec on just a single partition</strong> as shown in this benchmark.<br>The consumer throughput is often application dependent since it corresponds to how fast <strong>the consumer logic can process each message</strong>.<br>So, you really need to measure it.</p>
<p>Although it’s possible to increase the number of partitions over time, one has to be careful if messages are produced with keys.<br>When publishing a keyed message, Kafka deterministically maps the message to a partition based on the hash of the key.<br>This provides a guarantee that <strong>messages with the same key are always routed to the same partition</strong>.<br>This guarantee can be important for certain applications since messages within a partition are always delivered in order to the consumer.<br>If the number of partitions changes, such a guarantee may no longer hold.<br>To avoid this situation, a common practice is to over-partition a bit.<br><strong>Basically, you determine the number of partitions based on a future target throughput, say for one or two years later.</strong><br>Initially, you can just have a small Kafka cluster based on your current throughput.<br>Over time, you can add more brokers to the cluster and proportionally move a subset of the existing partitions to the new brokers (which can be done online).<br>This way, you can keep up with the throughput growth without breaking the semantics in the application when keys are used.</p>
<p>In addition to throughput, there are a few other factors that are worth considering when choosing the number of partitions.<br>As you will see, in some cases, having too many partitions may also have negative impact.</p>
<h2 id="More-Partitions-Requires-More-Open-File-Handles"><a href="#More-Partitions-Requires-More-Open-File-Handles" class="headerlink" title="More Partitions Requires More Open File Handles"></a>More Partitions Requires More Open File Handles</h2><p>Each partition maps to a directory in the file system in the broker.<br>Within that log directory, there will be two files (one for the index and another for the actual data) per log segment.<br>Currently, in Kafka, each broker opens a file handle of both the index and the data file of every log segment.<br>So, the more partitions, the higher that one needs to configure the open file handle limit in the underlying operating system.<br>This is mostly just a configuration issue.<br>We have seen production Kafka clusters running with more than 30 thousand open file handles per broker.</p>
<h2 id="More-Partitions-May-Increase-Unavailability"><a href="#More-Partitions-May-Increase-Unavailability" class="headerlink" title="More Partitions May Increase Unavailability"></a>More Partitions May Increase Unavailability</h2><p>Kafka supports intra-cluster replication, which provides higher availability and durability.<br><strong>A partition can have multiple replicas</strong>, each stored on a different broker.<br>One of the replicas is designated as the leader and the rest of the replicas are followers.<br>Internally, Kafka manages all those replicas automatically and makes sure that they are kept in sync.<br>Both the producer and the consumer requests to a partition are served on the leader replica.<br>When a broker fails, partitions with a leader on that broker become temporarily unavailable.<br>Kafka will automatically move the leader of those unavailable partitions to some other replicas to continue serving the client requests.<br>This process is done by one of the Kafka brokers designated as the controller.<br>It involves reading and writing some metadata for each affected partition in ZooKeeper.<br>Currently, operations to ZooKeeper are done serially in the controller.</p>
<p>In the common case when a broker is shut down cleanly, the controller will proactively move the leaders off the shutting down broker one at a time.<br>The moving of a single leader takes only a few milliseconds.<br>So, from the clients perspective, there is only a small window of unavailability during a clean broker shutdown.</p>
<p>However, when a broker is shut down uncleanly (e.g., kill -9), the observed unavailability could be proportional to the number of partitions.<br>Suppose that a broker has a total of 2000 partitions, each with 2 replicas.<br>Roughly, this broker will be the leader for about 1000 partitions.<br>When this broker fails uncleanly, all those 1000 partitions become unavailable at exactly the same time.<br>Suppose that it takes 5 ms to elect a new leader for a single partition.<br>It will take up to 5 seconds to elect the new leader for all 1000 partitions.<br>So, for some partitions, their observed unavailability can be 5 seconds plus the time taken to detect the failure.</p>
<p>If one is unlucky, the failed broker may be the controller.<br>In this case, the process of electing the new leaders won’t start until the controller fails over to a new broker.<br>The controller failover happens automatically, but requires the new controller to read some metadata for every partition from ZooKeeper during initialization.<br>For example, if there are 10,000 partitions in the Kafka cluster and initializing the metadata from ZooKeeper takes 2 ms per partition, this can add 20 more seconds to the unavailability window.</p>
<p>In general, unclean failures are rare.<br>However, if one cares about availability in those rare cases, it’s probably better to limit the number of partitions per broker to two to four thousand and the total number of partitions in the cluster to low tens of thousand.</p>
<h2 id="More-Partitions-May-Increase-End-to-end-Latency"><a href="#More-Partitions-May-Increase-End-to-end-Latency" class="headerlink" title="More Partitions May Increase End-to-end Latency"></a>More Partitions May Increase End-to-end Latency</h2><p>The end-to-end latency in Kafka is defined by the time from when a message is published by the producer to when the message is read by the consumer.<br>Kafka only exposes a message to a consumer after it has been committed, i.e., when the message is replicated to all the in-sync replicas.<br>So, the time to commit a message can be a significant portion of the end-to-end latency.<br>By default, a Kafka broker only uses a single thread to replicate data from another broker, for all partitions that share replicas between the two brokers.<br>Our experiments show that replicating 1000 partitions from one broker to another can add about 20 ms latency, which implies that the end-to-end latency is at least 20 ms.<br>This can be too high for some real-time applications.</p>
<p>Note that this issue is alleviated on a larger cluster.<br>For example, suppose that there are 1000 partition leaders on a broker and there are 10 other brokers in the same Kafka cluster.<br>Each of the remaining 10 brokers only needs to fetch 100 partitions from the first broker on average.<br>Therefore, the added latency due to committing a message will be just a few ms, instead of tens of ms.</p>
<p>As a rule of thumb, if you care about latency, it’s probably a good idea to limit the number of partitions per broker to 100 x b x r, where b is the number of brokers in a Kafka cluster and r is the replication factor.</p>
<h2 id="More-Partitions-May-Require-More-Memory-In-the-Client"><a href="#More-Partitions-May-Require-More-Memory-In-the-Client" class="headerlink" title="More Partitions May Require More Memory In the Client"></a>More Partitions May Require More Memory In the Client</h2><p>In the most recent 0.8.2 release which we ship with the Confluent Platform 1.0, we have developed a more efficient Java producer.<br>One of the nice features of the new producer is that it allows users to set an upper bound on the amount of memory used for buffering incoming messages.<br>Internally, the producer buffers messages per partition.<br>After enough data has been accumulated or enough time has passed, the accumulated messages are removed from the buffer and sent to the broker.</p>
<p>If one increases the number of partitions, message will be accumulated in more partitions in the producer.<br>The aggregate amount of memory used may now exceed the configured memory limit.<br>When this happens, the producer has to either block or drop any new message, neither of which is ideal.<br>To prevent this from happening, one will need to reconfigure the producer with a larger memory size.</p>
<p>As a rule of thumb, to achieve good throughput, one should allocate at least a few tens of KB per partition being produced in the producer and adjust the total amount of memory if the number of partitions increases significantly.</p>
<p>A similar issue exists in the consumer as well.<br>The consumer fetches a batch of messages per partition.<br>The more partitions that a consumer consumes, the more memory it needs.<br>However, this is typically only an issue for consumers that are not real time.</p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>In general, more partitions in a Kafka cluster leads to higher throughput.<br>However, one does have to be aware of the potential impact of having too many partitions in total or per broker on things like availability and latency.<br>In the future, we do plan to improve some of those limitations to make Kafka more scalable in terms of the number of partitions.</p>
<p><a href="https://blog.csdn.net/kwengelie/article/details/51150114" target="_blank" rel="noopener">https://blog.csdn.net/kwengelie/article/details/51150114</a><br><a href="https://www.confluent.io/blog/author/jun-rao/" target="_blank" rel="noopener">https://www.confluent.io/blog/author/jun-rao/</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2018/11/06/kafka-consumer-group/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/11/06/kafka-consumer-group/" class="post-title-link" itemprop="url">kafka consumer group</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-11-06 19:01:00" itemprop="dateCreated datePublished" datetime="2018-11-06T19:01:00+08:00">2018-11-06</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-12-16 14:31:36" itemprop="dateModified" datetime="2018-12-16T14:31:36+08:00">2018-12-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/db/" itemprop="url" rel="index"><span itemprop="name">db</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Consumer-group"><a href="#Consumer-group" class="headerlink" title="Consumer group"></a>Consumer group</h2><p>How to make multi-worker in same consumer-group all recieve same topic’s message?</p>
<p><img src="/2018/11/06/kafka-consumer-group/20181106190805256.png" alt="20181106190805256.png"><br>In kafka the topic <strong>only send one</strong> worker in consumer-group per partition(randomly?).</p>
<p>It’s better set the partition number multiple of consumer group’s number</p>
<p>So if you need pulish/subscribe mode, make sure consumer in different group id.</p>
<h2 id="How-do-I-choose-the-number-of-partitions-for-a-topic"><a href="#How-do-I-choose-the-number-of-partitions-for-a-topic" class="headerlink" title="How do I choose the number of partitions for a topic?"></a>How do I choose the number of partitions for a topic?</h2><p>The partition count determines the <strong>maximum consumer parallelism</strong> and so<br>you should set a partition count based on the maximum consumer parallelism you would expect to need</p>
<h2 id="Partition"><a href="#Partition" class="headerlink" title="Partition"></a>Partition</h2><ul>
<li>A partition is basically a directory of log files.</li>
<li>Each partition must fit entirely on one machine.</li>
<li>Each partition is totally ordered.</li>
<li>Each partition is <strong>not consumed by more than one</strong> consumer thread/process in each consumer group.</li>
<li>Many partitions can be consumed by a single process(randomly?)</li>
<li>Another way to say the above is that the partition count is a bound on the maximum consumer parallelism.<br>parallelism mean different group can consume different partitions</li>
<li>More partitions will mean more files and more machine restrict.</li>
<li>Each partition corresponds to several znodes in zookeeper.</li>
<li>More partitions means longer leader fail-over time.Synchronize <strong>thousands of znodes</strong> is not a easy job.</li>
<li>More partitions the more expensive the position checkpoint is.</li>
<li>Expand more partitions need manually synchronize data from old partitions</li>
</ul>
<p><a href="https://www.oschina.net/question/2558468_2145935" target="_blank" rel="noopener">https://www.oschina.net/question/2558468_2145935</a><br><a href="https://blog.csdn.net/gezilan/article/details/80412490" target="_blank" rel="noopener">https://blog.csdn.net/gezilan/article/details/80412490</a><br><a href="https://cwiki.apache.org/confluence/display/KAFKA/FAQ#FAQ-HowmanytopicscanIhave?" target="_blank" rel="noopener">https://cwiki.apache.org/confluence/display/KAFKA/FAQ#FAQ-HowmanytopicscanIhave?</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Leon</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">263</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">19</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">53</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/burningbright" title="GitHub &rarr; https://github.com/burningbright" rel="noopener" target="_blank"><i class="fa fa-fw fa-globe"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.mathjax.org/#demo" title="https://www.mathjax.org/#demo" rel="noopener" target="_blank">mathjax</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.katex.org" title="https://www.katex.org" rel="noopener" target="_blank">katex</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/cron" title="http://www.linchenguang.com/cron" rel="noopener" target="_blank">cron</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/dos" title="http://www.linchenguang.com/dos" rel="noopener" target="_blank">dos</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/keyboard" title="http://www.linchenguang.com/keyboard" rel="noopener" target="_blank">keyboard</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/regex" title="http://www.linchenguang.com/regex" rel="noopener" target="_blank">regex</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/sql" title="http://www.linchenguang.com/sql" rel="noopener" target="_blank">sql</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/toy" title="http://www.linchenguang.com/toy" rel="noopener" target="_blank">toy</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  
    <div id="sidebar-dimmer"></div>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 – <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Leon</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.1.2</div>




        


  <script>
    var _mtac = {};
    (function() {
      var mta = document.createElement("script");
      mta.src = "https://pingjs.qq.com/h5/stats.js";
      mta.setAttribute("name", "MTAH5");
      mta.setAttribute("sid", "500722550");
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(mta, s);
    })();
  </script>







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.2"></script>

  <script src="/js/motion.js?v=7.1.2"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.2"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.2"></script>


  

  

  

  



  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
  

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });
  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') { next = next.nextSibling }
        if (next && next.nodeName.toLowerCase() === 'br') { next.parentNode.removeChild(next) }
      }
    });
  });
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      document.getElementById(all[i].inputID + '-Frame').parentNode.className += ' has-jax';
    }
  });
</script>
<script src="//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
  


  

  

  

  

  

  

  

  

  

  

  


  <!-- 代码块复制功能 -->
  <script type="text/javascript" src="/js/clipboard.min.js"></script>  
  <script type="text/javascript" src="/js/clipboard-use.js"></script>
</body>
</html>
