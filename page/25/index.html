<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">

<link rel="stylesheet" href="/css/main.css?v=7.1.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.2">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.2" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":true},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="BurningBright">
<meta property="og:url" content="http://linchenguang.com/page/25/index.html">
<meta property="og:site_name" content="BurningBright">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="BurningBright">





  
  
  <link rel="canonical" href="http://linchenguang.com/page/25/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>BurningBright</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BurningBright</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2017/02/05/Match-characters/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/05/Match-characters/" class="post-title-link" itemprop="url">Match characters</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-02-05 19:20:32" itemprop="dateCreated datePublished" datetime="2017-02-05T19:20:32+08:00">2017-02-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-09-17 07:47:16" itemprop="dateModified" datetime="2020-09-17T07:47:16+08:00">2020-09-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/regex/" itemprop="url" rel="index"><span itemprop="name">regex</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Match-a-character"><a href="#Match-a-character" class="headerlink" title="Match a character"></a>Match a character</h1><p><strong>Hexadecimal character</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[a-fA-F0-9]</span><br></pre></td></tr></table></figure></p>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET, Java, JavaScript, PCRE, Perl, Python, Ruby</li>
</ul>
<p><strong>Nonhexadecimal character</strong><br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[^a-fA-F0-9]</span><br></pre></td></tr></table></figure></p>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET, Java, JavaScript, PCRE, Perl, Python, Ruby</li>
</ul>
<hr>
<blockquote>
<p>The notation using square brackets is called<br><strong>a character class</strong></p>
</blockquote>
<ul>
<li><p><strong><code>\, ^, -, and ]</code> have special function in square brackets</strong></p>
</li>
<li><p><em>JavaScript</em> treats ‹[]› as an empty character class that <strong>always fails to match</strong>.</p>
</li>
<li><p>In all the regex flavors discussed in this book, a <strong>negated character class</strong> matches <strong>line break characters</strong>, unless you add them to the negated character class. Make sure that you don’t accidentally allow your regex to span <em>across lines</em>.</p>
</li>
</ul>
<hr>
<h3 id="About-w"><a href="#About-w" class="headerlink" title="About \w"></a>About <code>\w</code></h3><ul>
<li>Java 4-6, JavaScript, PCRE, Ruby : <code>\w</code> -&gt; [a-zA-Z0-9_]</li>
<li>Java 7 : set <strong>Pattern.UNICODE_CHARACTER_CLASS</strong> flag, <code>\w</code> matches unicode characters. <strong>(?U)</strong> Inner regex usage.</li>
<li>Python2.x : set UNICODE or U flag, matches unicode characters.</li>
<li>Python3.x : matches unicode characters in default, <code>\w</code> ASCII-only with the ASCII or A flag.</li>
<li>Perl&gt;=5.1.4 : <code>/u (Unicode)</code> adds all Unicode scripts, and <code>/l
(locale)</code> makes <code>\w</code> depend on the locale. (<code>/d</code>, no <code>adlu</code>) Unicode scripts rule same as Perl&lt;5.1.4.</li>
<li>Perl&lt;5.1.4 : matches unicode characters in default, <code>\w</code> automatically includes Unicode scripts if the subject string or the regex are <strong>encoded as UTF-8</strong>, or the regex includes a code <strong>point above 255</strong> such as ‹\x{100}› or a Unicode property such as ‹\p{L}›. If not, the default for <code>\w</code> is pure ASCII</li>
</ul>
<h3 id="About-d"><a href="#About-d" class="headerlink" title="About \d"></a>About <code>\d</code></h3><ul>
<li><code>\d</code> follows the same rules as <code>\w</code> in all these flavors.</li>
<li>In .NET, digits from other scripts are always included.</li>
<li>In Python it depends on the <strong>UNICODE</strong> and <strong>ASCII</strong> flags, and whether you’re using Python 2.x or 3.x. In Perl 5.14, it depends on the <strong>/adlu</strong> flags.</li>
<li>In earlier versions of Perl, it depends on <strong>the encoding</strong> of the subject and regex, and whether the regex has any Uncicode tokens</li>
</ul>
<h3 id="About-s"><a href="#About-s" class="headerlink" title="About \s"></a>About <code>\s</code></h3><ul>
<li><code>\s</code> matches any whitespace character. This includes spaces, tabs, and line breaks.</li>
<li><code>\S</code> matches any character <strong>not matched</strong> by <code>\s</code></li>
<li>In .NET and JavaScript, <code>\s</code> also matches any character defined as whitespace by the <strong>Unicode standard</strong>.</li>
<li>In Java, Perl, and Python, <code>\s</code> follows the same rules as <code>\w</code> and <code>\d</code>.</li>
<li>Notice that JavaScript uses <strong>Unicode</strong> for ‹\s› but <strong>ASCII</strong> for <code>\d</code> and <code>\w</code>.</li>
</ul>
<hr>
<h3 id="Flavor-Specific-Features"><a href="#Flavor-Specific-Features" class="headerlink" title="Flavor-Specific Features"></a>Flavor-Specific Features</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[a-zA-Z0-9-[g-zG-Z]]</span><br></pre></td></tr></table></figure>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET 2.0 or later</li>
</ul>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[\w&amp;&amp;[a-fA-F0-9\s]]</span><br></pre></td></tr></table></figure>
<ul>
<li>uses character class <strong>intersection</strong> to match a hexadecimal digit.</li>
<li>Regex options: None</li>
<li>Regex flavors: Java</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[a-zA-Z0-9&amp;&amp;[^g-zG-Z]]</span><br></pre></td></tr></table></figure>
<ul>
<li>uses character class <strong>subtraction</strong> to match a single hexadecimal character in a roundabout way.</li>
<li>Regex options: None</li>
<li>Regex flavors: Java</li>
</ul>
<h1 id="Match-any-character"><a href="#Match-any-character" class="headerlink" title="Match any character"></a>Match any character</h1><h3 id="Any-character-except-line-breaks"><a href="#Any-character-except-line-breaks" class="headerlink" title="Any character except line breaks"></a>Any character except line breaks</h3><blockquote>
<p><code>&#39;.&#39;</code></p>
</blockquote>
<ul>
<li>Regex options: None (the “dot matches line breaks” option must not be set)</li>
<li>Regex flavors: .NET, Java, JavaScript, PCRE, Perl, Python, Ruby</li>
</ul>
<hr>
<h3 id="Any-character-including-line-breaks"><a href="#Any-character-including-line-breaks" class="headerlink" title="Any character including line breaks"></a>Any character including line breaks</h3><blockquote>
<p><code>&#39;.&#39;</code></p>
</blockquote>
<ul>
<li>Regex options: Dot matches line breaks</li>
<li>Regex flavors: .NET, Java, PCRE, Perl, Python, Ruby</li>
</ul>
<blockquote>
<p><code>&#39;[\s\S]&#39;</code></p>
</blockquote>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET, Java, JavaScript, PCRE, Perl, Python, Ruby</li>
</ul>
<hr>
<h3 id="Inner-mode"><a href="#Inner-mode" class="headerlink" title="Inner mode"></a>Inner mode</h3><blockquote>
<p><code>(?s)&#39;.&#39;</code></p>
</blockquote>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET, Java, XRegExp, PCRE, Perl, Python</li>
</ul>
<blockquote>
<p><code>(?m)&#39;.&#39;</code></p>
</blockquote>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: Ruby</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2017/02/05/ASCII/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/05/ASCII/" class="post-title-link" itemprop="url">ASCII</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-02-05 16:15:21" itemprop="dateCreated datePublished" datetime="2017-02-05T16:15:21+08:00">2017-02-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-09-17 07:47:16" itemprop="dateModified" datetime="2020-09-17T07:47:16+08:00">2020-09-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tool/" itemprop="url" rel="index"><span itemprop="name">tool</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ASCII"><a href="#ASCII" class="headerlink" title="ASCII"></a>ASCII</h2><div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
<th>E</th>
<th>F</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>NUL</td>
<td>SOH</td>
<td>STX</td>
<td>ETX</td>
<td>EOT</td>
<td>ENQ</td>
<td>ACK</td>
<td>BEL</td>
<td>BS</td>
<td>HT</td>
<td>LF</td>
<td>VT</td>
<td>FF</td>
<td>CR</td>
<td>SO</td>
<td>SI</td>
</tr>
<tr>
<td>1</td>
<td>DLE</td>
<td>DC1</td>
<td>DC2</td>
<td>DC3</td>
<td>DC4</td>
<td>NAK</td>
<td>SYN</td>
<td>ETB</td>
<td>CAN</td>
<td>EM</td>
<td>SUB</td>
<td>ESC</td>
<td>FS</td>
<td>GS</td>
<td>RS</td>
<td>US</td>
</tr>
<tr>
<td>2</td>
<td>(space)</td>
<td>!</td>
<td>“</td>
<td>#</td>
<td>$</td>
<td>%</td>
<td>&amp;</td>
<td>‘</td>
<td>(</td>
<td>)</td>
<td>*</td>
<td>+</td>
<td>,</td>
<td>-</td>
<td>.</td>
<td>/</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>9</td>
<td>:</td>
<td>;</td>
<td>&lt;</td>
<td>=</td>
<td>&gt;</td>
<td>?</td>
</tr>
<tr>
<td>4</td>
<td>@</td>
<td>A</td>
<td>B</td>
<td>C</td>
<td>D</td>
<td>E</td>
<td>F</td>
<td>G</td>
<td>H</td>
<td>I</td>
<td>J</td>
<td>K</td>
<td>L</td>
<td>M</td>
<td>N</td>
<td>O</td>
</tr>
<tr>
<td>5</td>
<td>P</td>
<td>Q</td>
<td>R</td>
<td>S</td>
<td>T</td>
<td>U</td>
<td>V</td>
<td>W</td>
<td>X</td>
<td>Y</td>
<td>Z</td>
<td>[</td>
<td>\</td>
<td>]</td>
<td>^</td>
<td>_</td>
</tr>
<tr>
<td>6</td>
<td>`</td>
<td>a</td>
<td>b</td>
<td>c</td>
<td>d</td>
<td>e</td>
<td>f</td>
<td>g</td>
<td>h</td>
<td>i</td>
<td>j</td>
<td>k</td>
<td>l</td>
<td>m</td>
<td>n</td>
<td>o</td>
</tr>
<tr>
<td>7</td>
<td>p</td>
<td>q</td>
<td>r</td>
<td>s</td>
<td>t</td>
<td>u</td>
<td>v</td>
<td>w</td>
<td>x</td>
<td>y</td>
<td>z</td>
<td>{</td>
<td>&#124;</td>
<td>}</td>
<td>~</td>
<td>DEL (delete)</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Contrast"><a href="#Contrast" class="headerlink" title="Contrast"></a>Contrast</h3><ul>
<li>NUL(null)</li>
<li>SOH(start of headline)</li>
<li>STX (start of text)</li>
<li>ETX (end of text)</li>
<li>EOT (end of transmission)</li>
<li>ENQ (enquiry)</li>
<li>ACK (acknowledge)</li>
<li>BEL (bell)</li>
<li>BS (backspace)</li>
<li>HT (horizontal tab)</li>
<li>LF (NL line feed, new line)</li>
<li>VT (vertical tab)</li>
<li>FF (NP form feed, new page)</li>
<li>CR (carriage return)</li>
<li>SO (shift out)</li>
<li>SI (shift in)</li>
<li>DLE (data link escape)</li>
<li>DC1 (device control 1)</li>
<li>DC2 (device control 2)</li>
<li>DC3 (device control 3)</li>
<li>DC4 (device control 4)</li>
<li>NAK (negative acknowledge)</li>
<li>SYN (synchronous idle)</li>
<li>ETB (end of trans. block)</li>
<li>CAN (cancel)</li>
<li>EM (end of medium)</li>
<li>SUB (substitute)</li>
<li>ESC (escape)</li>
<li>FS (file separator)</li>
<li>GS (group separator)</li>
<li>RS (record separator)</li>
<li>US (unit separator)</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2017/02/05/Match-nonprintable-characters/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/05/Match-nonprintable-characters/" class="post-title-link" itemprop="url">Match nonprintable characters</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-02-05 15:24:03" itemprop="dateCreated datePublished" datetime="2017-02-05T15:24:03+08:00">2017-02-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-09-17 07:47:16" itemprop="dateModified" datetime="2020-09-17T07:47:16+08:00">2020-09-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/regex/" itemprop="url" rel="index"><span itemprop="name">regex</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p><strong>Math these characters</strong></p>
<ul>
<li>bell</li>
<li>escape</li>
<li>form feed</li>
<li>line</li>
<li>feed</li>
<li>carriage return</li>
<li>horizontal tab</li>
<li>vertical tab<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexadecimal ASCII codes :</span><br><span class="line">07, 1B, 0C, 0A, 0D, 09, 0B</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\a\e\f\n\r\t\v</span><br></pre></td></tr></table></figure>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET, Java, PCRE, Python, Ruby</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\x07\x1B\f\n\r\t\v</span><br></pre></td></tr></table></figure>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET, Java, JavaScript, Python, Ruby</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\a\e\f\n\r\t\x0B</span><br></pre></td></tr></table></figure>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET, Java, PCRE, Perl, Python, Ruby</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Representation</th>
<th>Meaning</th>
<th>Hex</th>
<th>Regex flavors</th>
</tr>
</thead>
<tbody>
<tr>
<td>‹\a›</td>
<td>bell</td>
<td>0x07</td>
<td>.NET, Java, PCRE, Perl, Python, Ruby</td>
</tr>
<tr>
<td>‹\e›</td>
<td>escape</td>
<td>0x1B</td>
<td>.NET, Java, PCRE, Perl, Ruby</td>
</tr>
<tr>
<td>‹\f›</td>
<td>form feed</td>
<td>0x0C</td>
<td>.NET, Java, JavaScript, PCRE, Perl, Python, Ruby</td>
</tr>
<tr>
<td>‹\n›</td>
<td>line feed (newline)</td>
<td>0x0A</td>
<td>.NET, Java, JavaScript, PCRE, Perl, Python, Ruby</td>
</tr>
<tr>
<td>‹\r›</td>
<td>carriage return</td>
<td>0x0D</td>
<td>.NET, Java, JavaScript, PCRE, Perl, Python, Ruby</td>
</tr>
<tr>
<td>‹\t›</td>
<td>horizontal tab</td>
<td>0x09</td>
<td>.NET, Java, JavaScript, PCRE, Perl, Python, Ruby</td>
</tr>
<tr>
<td>‹\v›</td>
<td>vertical tab</td>
<td>0x0B</td>
<td>.NET, Java, JavaScript, Python, Ruby, Perl-5.10, PCRE-7.2</td>
</tr>
</tbody>
</table>
</div>
<h2 id="Variations"><a href="#Variations" class="headerlink" title="Variations"></a>Variations</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\cG\x1B\cL\cJ\cM\cI\cK</span><br></pre></td></tr></table></figure>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET, Java, JavaScript, PCRE, Perl, Ruby 1.9</li>
</ul>
<hr>
<p><strong>The 7-bit character set</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\x07\x1B\x0C\x0A\x0D\x09\x0B</span><br></pre></td></tr></table></figure></p>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET, Java, JavaScript, PCRE, Perl, Python, Ruby</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2017/02/04/Match-literal-text/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/04/Match-literal-text/" class="post-title-link" itemprop="url">Match literal text</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-02-04 21:30:47" itemprop="dateCreated datePublished" datetime="2017-02-04T21:30:47+08:00">2017-02-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-09-17 07:47:16" itemprop="dateModified" datetime="2020-09-17T07:47:16+08:00">2020-09-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/regex/" itemprop="url" rel="index"><span itemprop="name">regex</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p><strong>Math these literal</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The punctuation characters in the ASCII table are: !&quot;#$%&amp;&apos;()*+,-./:;&lt;=&gt;?@[\]^_`&#123;|&#125;~</span><br></pre></td></tr></table></figure></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The●punctuation●characters●in●the●ASCII●table●are:●↵</span><br><span class="line">!&quot;#\$%&amp;&apos;\(\)\*\+,-\./:;&lt;=&gt;\?@\[\\]\^_`\&#123;\|&#125;~</span><br></pre></td></tr></table></figure>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET, Java, JavaScript, PCRE, Perl, Python, Ruby</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$()*+.?[\^&#123;|</span><br></pre></td></tr></table></figure>
<ul>
<li>these characters is key words, only <strong><em>matches itsself</em></strong></li>
<li><strong><em>‘]’ and ‘}’</em></strong> is not</li>
</ul>
<hr>
<h3 id="Variations"><a href="#Variations" class="headerlink" title="Variations"></a>Variations</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The●punctuation●characters●in●the●ASCII●table●are:●↵</span><br><span class="line">\Q!&quot;#$%&amp;&apos;()*+,-./:;&lt;=&gt;?@[\]^_`&#123;|&#125;~\E</span><br></pre></td></tr></table></figure>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: Java 6, PCRE, Perl</li>
</ul>
<p><strong>use \Q \E to suppresses the meaning<br>of all metacharacters, including the backslash</strong></p>
<hr>
<h3 id="Case-insensitive-matching"><a href="#Case-insensitive-matching" class="headerlink" title="Case-insensitive matching"></a>Case-insensitive matching</h3><p><strong>Outside the regex</strong><br><code>ascii</code></p>
<ul>
<li>Regex options: Case insensitive</li>
<li>Regex flavors: .NET, Java, JavaScript, PCRE, Perl, Python, Ruby</li>
</ul>
<p><strong>Inside the regex</strong><br><code>(?i)ascii</code></p>
<ul>
<li>Regex options: None</li>
<li>Regex flavors: .NET, Java, XRegExp, PCRE, Perl, Python, Ruby</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2017/02/03/github-style/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/03/github-style/" class="post-title-link" itemprop="url">github style</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-02-03 22:12:08" itemprop="dateCreated datePublished" datetime="2017-02-03T22:12:08+08:00">2017-02-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2020-06-17 22:36:20" itemprop="dateModified" datetime="2020-06-17T22:36:20+08:00">2020-06-17</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tool/" itemprop="url" rel="index"><span itemprop="name">tool</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2017/02/03/github-style/095329_upMF_12.png" alt><br><strong>Top to down, left to right</strong></p>
<ul>
<li>XXX’s GitHub repository : “offical” page</li>
<li>Your GitHub repository : “personal” page</li>
<li>Working directory : “battlefield”</li>
<li>Local repository : local project storage</li>
<li>Index : cache space</li>
</ul>
<ol>
<li><code>&quot;fork&quot;</code> : web “offical” -&gt; “personal”</li>
<li><code>&quot;Pull request&quot;</code> : web handle to “offical”</li>
<li><code>push</code> : local storage to remote storage</li>
<li><code>fetch</code> : remote storage to local storage</li>
<li><code>clone</code> : copy a remote git project</li>
<li><code>pull XXX-github</code> : get “offical” update to local storage and merge to “battlefield”</li>
<li><code>merge</code> : merge local storage to “battlefield”</li>
<li><code>pull my-github</code> : get remote storage update to local storage</li>
<li><code>checkout</code> : reset file or hash version to “battlefield” directly from local storage</li>
<li><code>checkout</code> : reset file cover “battlefield” from cache</li>
<li><code>commit -a</code> : handle to local storage and update to remote directly(push)</li>
<li><code>commit</code> : handle to local storage</li>
<li><code>add</code> : put add/delete/modify to cache</li>
<li><code>reset</code> : reset file or hash version to cache from local storage</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2017/02/02/lucene-index-file-constructure-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/02/lucene-index-file-constructure-2/" class="post-title-link" itemprop="url">lucene index file constructure (2)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-02-02 18:27:21" itemprop="dateCreated datePublished" datetime="2017-02-02T18:27:21+08:00">2017-02-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-12-16 14:31:36" itemprop="dateModified" datetime="2018-12-16T14:31:36+08:00">2018-12-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/search/" itemprop="url" rel="index"><span itemprop="name">search</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-Prefix-amp-Suffix"><a href="#1-Prefix-amp-Suffix" class="headerlink" title="1. Prefix &amp; Suffix"></a>1. Prefix &amp; Suffix</h2><p>Lucene negative index will storage Term Dictionary. All Term sort by ‘dictionary sequence’, but Dictionary contain all word in documents, some words have long length and it’s <strong>occupy space</strong> will be astonish. In Lucene, when some word has same prefix with is privious <strong><code>word</code></strong>[may be it’s prefix is offset from it’s privious one], word storage it’s prefix’s offset in word then suffix.</p>
<p><strong>Nature storage:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[VInt = 4] [t][e][r][m]</span><br><span class="line">[VInt = 10][t][e][r][m][a][g][a][n][c][y]</span><br><span class="line">[VInt = 9][t][e][r][m][a][g][a][n][t]</span><br><span class="line">[VInt = 8][t][e][r][m][i][n][a][l]</span><br></pre></td></tr></table></figure></p>
<p><strong>Compress storage:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[VInt = 4] [t][e][r][m]</span><br><span class="line">[VInt = 4 (offset)][VInt = 6][a][g][a][n][c][y]</span><br><span class="line">[VInt = 8 (offset)][VInt = 1][t]</span><br><span class="line">[VInt = 4(offset)][VInt = 4][i][n][a][l]</span><br></pre></td></tr></table></figure></p>
<script type="math/tex; mode=display">4[term]\times3+4[agan]-3[offset]=13bytes</script><p><strong>Reduce occupy space, especially in dictionary sequence order condition, prefixs’ has big repeat probability</strong></p>
<h2 id="2-Delta"><a href="#2-Delta" class="headerlink" title="2.Delta"></a>2.Delta</h2><p>Lucene negative index need to storage a lot of Integer number like Id, position, frequence and so on. For reduce the occupy space of Integer, when Integer increase, it only storage it’s <strong>difference value</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">16386 16387 16388 16389</span><br><span class="line">[(1) 000, 0010][(1) 000, 0000][(0) 000, 0001]</span><br><span class="line">[(1) 000, 0011][(1) 000, 0000][(0) 000, 0001]</span><br><span class="line">[(1) 000, 0100][(1) 000, 0000][(0) 000, 0001]</span><br><span class="line">[(1) 000, 0101][(1) 000, 0000][(0) 000, 0001]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">16386 16387 16388 16389</span><br><span class="line">[(1) 000, 0010][(1) 000, 0000][(0) 000, 0001]</span><br><span class="line">[(0) 000, 0001]</span><br><span class="line">[(0) 000, 0001]</span><br><span class="line">[(0) 000, 0001]</span><br></pre></td></tr></table></figure>
<script type="math/tex; mode=display">2[high num bytes]\times3 = 6</script><h2 id="3-Flag-A-B"><a href="#3-Flag-A-B" class="headerlink" title="3. Flag (A, B?)"></a>3. Flag (A, B?)</h2><p>There are same condition in Lucene index constructure, after block maybe have another block , maybe not. Nature storage is add a byte to flag it’s boolean. Actually a bit is enough, put origin data <strong>move left</strong> a bit, save a bit to show it’s boolean. Data minuse 2 got it’s origin data.</p>
<h3 id="Obey"><a href="#Obey" class="headerlink" title="Obey"></a>Obey</h3><ul>
<li>.frq DocDelta[, Freq?], DocSkip[, PayloadLength?]</li>
<li>.prx positionDelta[, Playload?](incomplete)</li>
</ul>
<h3 id="Not-obey"><a href="#Not-obey" class="headerlink" title="Not obey"></a>Not obey</h3><ul>
<li>.frq SkipChildLevePointer multi skip, when last level no need flag.</li>
<li>.tvf Positions, Offsets</li>
</ul>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><ul>
<li>When A, B condition occur a lot, save 8 times space is economical.</li>
<li>For not obey, cause have a global macro, it is effective in all Field even all index.</li>
</ul>
<h2 id="4-Skip-list"><a href="#4-Skip-list" class="headerlink" title="4.Skip list"></a>4.Skip list</h2><p>For inprove search performance Lucene use a lot of skip list data structure.</p>
<ul>
<li>Element is sequential, in lucene either number order or alphabet order.</li>
<li>Skip have <strong>interval</strong>, it’s a config in advance, that is skip element number.</li>
<li>Skip list have level, it’s config interve point it’s up level [12 -&gt; 5 -&gt; 2][interval 3]</li>
</ul>
<h3 id="Define-difference"><a href="#Define-difference" class="headerlink" title="Define difference"></a>Define difference</h3><ul>
<li><p>the interval define :</p>
<ul>
<li>not contain up level two element</li>
<li>contain head, not contain end[Lucene define]</li>
<li>contain both it’s up level two element</li>
</ul>
</li>
<li><p>the level define :</p>
<ul>
<li>contain origin list, start from 1, like 1, 2, 3</li>
<li>contain origin list, start from 0, like 0, 1, 2</li>
<li>not contain origin list, start from 0[Lucene define]</li>
</ul>
</li>
</ul>
<p><strong>Jump element &amp; Skip list</strong></p>
<p><a href="http://lucene.apache.org/core/2_9_4/fileformats.html" target="_blank" rel="noopener">http://lucene.apache.org/core/2_9_4/fileformats.html</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2017/02/01/lucene-index-file-constructure-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/02/01/lucene-index-file-constructure-1/" class="post-title-link" itemprop="url">lucene index file constructure (1)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-02-01 18:59:24" itemprop="dateCreated datePublished" datetime="2017-02-01T18:59:24+08:00">2017-02-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-12-16 14:31:36" itemprop="dateModified" datetime="2018-12-16T14:31:36+08:00">2018-12-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/search/" itemprop="url" rel="index"><span itemprop="name">search</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>Index<ul>
<li>In Lucene an Index is in a directory</li>
<li>All files constitute an Index</li>
</ul>
</li>
<li>Segment<ul>
<li>An Index could contain a lot of Segments, each Segment is independent.<br>The new added document could be build into a new Segment, different Segment can be merged.</li>
<li>If files prefix is same, they belong to same Segment, like “_0”, “_1”, “_2”.</li>
<li>segments.gen and segments_X is Segment’s metaldata, storage it’s propertites information.</li>
</ul>
</li>
<li>Document<ul>
<li>Document is the basic unit in building Index. Different Document storage in different Segment, a Segment can contain a lot of Documents.</li>
<li>New added Document is in Segment new build, when Segment be merged, different document be merged into same Segment.</li>
</ul>
</li>
<li>Field<ul>
<li>A document may contain different type informations, like time, content, write and so on, it can be index separately, and be storage in different Term.</li>
<li>Different Term’s Index way can be different, when analysis Term’s storage, we would explain it.</li>
</ul>
</li>
<li>Term<ul>
<li>Term is the basic unit in Index. It is the string after lexical analysis and language processing</li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>名称</th>
<th>文件拓展名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>段文件</td>
<td>segments_N</td>
<td style="text-align:center">保存了索引包含的多少段，每个段包含多少文档。</td>
</tr>
<tr>
<td>段元数据</td>
<td>.si</td>
<td style="text-align:center">保存了索引段的元数据信息</td>
</tr>
<tr>
<td>锁文件&nbsp;</td>
<td>write.lock</td>
<td style="text-align:center">防止多个IndexWriter同时写到一份索引文件中。</td>
</tr>
<tr>
<td>复合索引文件</td>
<td>.cfs, .cfe</td>
<td style="text-align:center">把所有索引信息都存储到复合索引文件中。</td>
</tr>
<tr>
<td>索引段的域信息</td>
<td>.fnm</td>
<td style="text-align:center">保存此段包含的域，以及域的名称和域的索引类型。</td>
</tr>
<tr>
<td>索引段的文档信息</td>
<td>.fdx, .fdt</td>
<td style="text-align:center">保存此段包含的文档，每篇文档中包含的域以及每个域的信息。</td>
</tr>
<tr>
<td>索引段Term信息</td>
<td>.tim, .tip</td>
<td style="text-align:center">.tim文件中存储着每个域中Term的统计信息且保存着指向  .doc, .pos, and .pay 索引文件的指针。  .tip文件保存着Term 字典的索引信息，可支持随机访问。</td>
</tr>
<tr>
<td>文档中Term词频和跳表信息</td>
<td>.doc</td>
<td style="text-align:center">保存此段中每个文档对应的Term频率信息。</td>
</tr>
<tr>
<td>文档中Term的位置信息</td>
<td>.pos</td>
<td style="text-align:center">保存此段中每个文档对应的Term位置信息。</td>
</tr>
<tr>
<td>文档的有效载荷和部分位置信息</td>
<td>.pay</td>
<td style="text-align:center">保存此段中每个文档的有效载体(payload) 和 Term的位置信息(offsets)。 其中有一部分的Term位置信息存储在.pos文件中。</td>
</tr>
<tr>
<td>索引字段加权因子</td>
<td>.nvd, .nvm</td>
<td style="text-align:center">.nvm 文件保存索引字段加权因子的元数据  .nvd 文件保存索引字段加权数据</td>
</tr>
<tr>
<td>索引文档加权因子</td>
<td>.dvd, .dvm</td>
<td style="text-align:center">.dvm 文件保存索引文档加权因子的元数据  .dvd 文件保存索引文档加权数据</td>
</tr>
<tr>
<td>索引矢量数据</td>
<td>.tvx, .tvd, .tvf</td>
<td style="text-align:center">.tvd 存储此段文档的Term、Term频率、位置信息、有效载荷等信息。  .tvx 索引文件，用于把特定的文档加载到内存。  .tvf 保存索引字段的矢量信息。</td>
</tr>
<tr>
<td>有效文档</td>
<td>.liv</td>
<td style="text-align:center">保存有效文档的索引文件信息</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>Name</th>
<th>Extension</th>
<th style="text-align:center">Brief Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Segments File</td>
<td>segments.gen, segments_N</td>
<td style="text-align:center">Stores information about segments</td>
</tr>
<tr>
<td>Lock File</td>
<td>write.lock</td>
<td style="text-align:center">The Write lock prevents multiple IndexWriters from writing to the same file.</td>
</tr>
<tr>
<td>Compound File</td>
<td>.cfs</td>
<td style="text-align:center">An optional “virtual” file consisting of all the other index files for systems that frequently run out of file handles.</td>
</tr>
<tr>
<td>Fields</td>
<td>.fnm</td>
<td style="text-align:center">Stores information about the fields</td>
</tr>
<tr>
<td>Field Index</td>
<td>.fdx</td>
<td style="text-align:center">Contains pointers to field data</td>
</tr>
<tr>
<td>Field Data</td>
<td>.fdt</td>
<td style="text-align:center">The stored fields for documents</td>
</tr>
<tr>
<td>Term Infos</td>
<td>.tis</td>
<td style="text-align:center">Part of the term dictionary, stores term info</td>
</tr>
<tr>
<td>Term Info Index</td>
<td>.tii</td>
<td style="text-align:center">The index into the Term Infos file</td>
</tr>
<tr>
<td>Frequencies</td>
<td>.frq</td>
<td style="text-align:center">Contains the list of docs which contain each term along with frequency</td>
</tr>
<tr>
<td>Positions</td>
<td>.prx</td>
<td style="text-align:center">Stores position information about where a term occurs in the index</td>
</tr>
<tr>
<td>Norms</td>
<td>.nrm</td>
<td style="text-align:center">Encodes length and boost factors for docs and fields</td>
</tr>
<tr>
<td>Term Vector Index</td>
<td>.tvx</td>
<td style="text-align:center">Stores offset into the document data file</td>
</tr>
<tr>
<td>Term Vector Documents</td>
<td>.tvd</td>
<td style="text-align:center">Contains information about each document that has term vectors</td>
</tr>
<tr>
<td>Term Vector Fields</td>
<td>.tvf</td>
<td style="text-align:center">The field level info about term vectors</td>
</tr>
<tr>
<td>Deleted Documents</td>
<td>.del</td>
<td style="text-align:center">Info about what files are deleted</td>
</tr>
</tbody>
</table>
</div>
<h2 id="Lucene’s-index-not-only-storage-positive-mapping-but-also-storage-negative-mapping"><a href="#Lucene’s-index-not-only-storage-positive-mapping-but-also-storage-negative-mapping" class="headerlink" title="Lucene’s index not only storage positive mapping but also storage negative mapping"></a>Lucene’s index not only storage positive mapping but also storage negative mapping</h2><h3 id="Positive-mapping"><a href="#Positive-mapping" class="headerlink" title="Positive mapping"></a>Positive mapping</h3><ul>
<li>From Index to Term : Index –&gt; segment –&gt; Document –&gt; Field –&gt; Term</li>
<li>Each upper floor storage it’s children floors’ matedata. Like a province, a city, a county, they got it’s chilren’s info.<ul>
<li>segments_N : how many segment the Index have, how many Documents each segment have.</li>
<li>.fnm : how many Fields the segment contain, each Field’s name and Index way.</li>
<li>.fdx , .fdt : all Documents the segment have, how many Fields each Document have, what information each field recorded.</li>
<li>.tvx , .tvd , .tvf : how many Documents the segment have, how many Fields each Document have, how many words each Field have, every words’ string, position, and so on.<h3 id="Negative-mapping"><a href="#Negative-mapping" class="headerlink" title="Negative mapping"></a>Negative mapping</h3></li>
</ul>
</li>
<li>Term -&gt; Document<ul>
<li>.tis , .tii : Term dictionary, that is segment’s words sort by alphabet sequencely.</li>
<li>.frq : posting sorted table, that is table that contain all words’ Document ID.</li>
<li>.prx : the word position in Document at posting sorted table.</li>
</ul>
</li>
</ul>
<h2 id="Primary-Type"><a href="#Primary-Type" class="headerlink" title="Primary Type"></a>Primary Type</h2><ul>
<li>Byte : the most basic type, 8 bits long.</li>
<li>UInt32 : composed by 4 Bytes.</li>
<li>UInt64 : composed by 8 Bytes.</li>
<li>VInt :<ul>
<li>May be composed by many Bytes.</li>
<li>Front byte represent lower number bit.</li>
<li>For example: 51271 - [1]1000111, [1]0010000, [0]0000011</li>
</ul>
</li>
<li>Chars : UTF-8 encoding bytes.</li>
<li>String : first a VInt represent Char numbers, then a series of Chars.</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2017/01/30/Full-text-retrieval-fundamental-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/01/30/Full-text-retrieval-fundamental-2/" class="post-title-link" itemprop="url">Full-text retrieval fundamental (2)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-01-30 14:17:51" itemprop="dateCreated datePublished" datetime="2017-01-30T14:17:51+08:00">2017-01-30</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-12-16 14:31:36" itemprop="dateModified" datetime="2018-12-16T14:31:36+08:00">2018-12-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/search/" itemprop="url" rel="index"><span itemprop="name">search</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="How-to-build-Index"><a href="#How-to-build-Index" class="headerlink" title="How to build Index"></a>How to build Index</h2><h3 id="1-Prepare-origin-Document"><a href="#1-Prepare-origin-Document" class="headerlink" title="1. Prepare origin Document"></a>1. Prepare origin Document</h3><ul>
<li>file1: Researches of Chinese full-text search technologies based on word indexing is related to many fields.</li>
<li>file2: The Index Data Service provides basic full-text functions for storage and retrieval of terms and indexed summary documents.<h3 id="2-Put-Document-TOKENIZER"><a href="#2-Put-Document-TOKENIZER" class="headerlink" title="2. Put Document TOKENIZER"></a>2. Put Document TOKENIZER</h3></li>
</ul>
<ol>
<li>split Document into words</li>
<li>separate <code>symbols</code></li>
<li><p>separate <code>Stop word</code></p>
<p>Stop word in english like: “like”, “a”, “this”…<br>After Tokenier got Token:<br>“Researches” “Chinese” “full” “text” “search” “technologies” “word” “indexing” “related” “many” “fields” “Index” “Data” “Service” “provides” “basic” “full” “text” “functions” “storage” “retrieval” “terms” “indexed” “summary” “documents”</p>
</li>
</ol>
<h3 id="3-Put-TOKEN-to-LINGUISTIC-PROCESSOR"><a href="#3-Put-TOKEN-to-LINGUISTIC-PROCESSOR" class="headerlink" title="3. Put TOKEN to LINGUISTIC PROCESSOR"></a>3. Put TOKEN to LINGUISTIC PROCESSOR</h3><ol>
<li>to Lowercase</li>
<li>words reduce to root type like “fields” to “field” <code>stemming</code></li>
<li><p>words to origin type like “indexed” to “index” <code>lemmatization</code></p>
<p><strong><em>the difference between “Stemming” and “lemmatization”</em></strong></p>
<ul>
<li>same: make words to initial</li>
<li><p>difference:</p>
<blockquote>
<ul>
<li>Stemming is reduce</li>
<li>lemmatization is change</li>
</ul>
</blockquote>
</li>
<li><p>difference in algorithm:</p>
<blockquote>
<ul>
<li>Stemming is delete “s”, “ing”-&gt;”e”, “ational”-&gt;”ate”, “tional”-&gt; “tion”</li>
<li>lemmatization is “drove” -&gt; “drive”</li>
</ul>
</blockquote>
</li>
<li>they are not mutex, but mates</li>
</ul>
<p><strong><em>After linguistic processor result be call <code>Term</code>:</em></strong><br>“researche” “chinese” “full” “text” “search” “technologie” “word” “index” “relate” “many” “field” “index” “data” “service” “provide” “basic” “full” “text” “function” “storage” “retrieve” “term” “index” “summary” “document”</p>
<p>Because the linguistic processor when search drove, drive’s documents can be found.</p>
</li>
</ol>
<h3 id="4-Put-TERM-to-INDEXER"><a href="#4-Put-TERM-to-INDEXER" class="headerlink" title="4. Put TERM to INDEXER"></a>4. Put TERM to INDEXER</h3><ol>
<li>Build a dictionary in Term</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>Term</th>
<th style="text-align:right">Document ID</th>
</tr>
</thead>
<tbody>
<tr>
<td>researche</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>chinese</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>full</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>text</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>search</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>technologie</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>word</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>index</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>relate</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>many</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>field</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>index</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>data</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>service</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>provide</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>basic</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>full</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>text</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>function</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>storage</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>retrieve</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>term</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>index</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>summary</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>document</td>
<td style="text-align:right">2</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>sort table by key’s first letter</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>Term</th>
<th style="text-align:right">Document ID</th>
</tr>
</thead>
<tbody>
<tr>
<td>basic</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>chinese</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>data</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>document</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>field</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>full</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>full</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>function</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>index</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>index</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>index</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>many</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>provide</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>relate</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>researche</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>retrieve</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>search</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>service</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>storage</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>summary</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>technologie</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>term</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>text</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td>text</td>
<td style="text-align:right">2</td>
</tr>
<tr>
<td>word</td>
<td style="text-align:right">1</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>merge same Term into Posting List<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Term-[Document Frequency] | DocumentID-Frequency</span><br><span class="line">basic-1        2-1</span><br><span class="line">chinese-1     1-1</span><br><span class="line">data-1        2-1</span><br><span class="line">document-1    2-1</span><br><span class="line">field-1       1-1</span><br><span class="line">full-2        1-1 -&gt; 2-1</span><br><span class="line">function-1    2-1</span><br><span class="line">index-2       2-2 -&gt; 1-1</span><br><span class="line">many-1        1-1</span><br><span class="line">provide-1     2-1</span><br><span class="line">relate-1      1-1</span><br><span class="line">researche-1   1-1</span><br><span class="line">retrieve-2    2-1</span><br><span class="line">search-1      1-1</span><br><span class="line">service-2     2-1</span><br><span class="line">storage-2     2-1</span><br><span class="line">summary-2     2-1</span><br><span class="line">technologie-1 1-1</span><br><span class="line">term-2        2-1</span><br><span class="line">text-2        2-1 -&gt; 1-1</span><br><span class="line">word-1        1-1</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>Document Frequency: Document appear times</li>
<li>Frequency: Term appear times in Document</li>
</ul>
<p><strong><em> When searching “drive” “driving” “drove” “driven” will be processor to drive like build Index process </em></strong></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2017/01/30/Full-text-retrieval-fundamental-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/01/30/Full-text-retrieval-fundamental-3/" class="post-title-link" itemprop="url">Full-text retrieval fundamental (3)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-01-30 14:17:51" itemprop="dateCreated datePublished" datetime="2017-01-30T14:17:51+08:00">2017-01-30</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-12-16 14:31:36" itemprop="dateModified" datetime="2018-12-16T14:31:36+08:00">2018-12-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/search/" itemprop="url" rel="index"><span itemprop="name">search</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="How-to-search-in-Index"><a href="#How-to-search-in-Index" class="headerlink" title="How to search in Index"></a>How to search in Index</h2><p> <strong>How to find the result you want most, or the most relevant result with query phrase?</strong></p>
<h3 id="1-first-User-input-query-pharse"><a href="#1-first-User-input-query-pharse" class="headerlink" title="1. first: User input query pharse"></a>1. first: User input query pharse</h3><p>  <em>The basic query grammar like “AND”, “OR”, “NOT”.</em><br>  <code>elephant and tiger or lion not sheep</code></p>
<h3 id="2-second-Query-pharse-lexical-analysis-syntax-analysis-and-language-processing"><a href="#2-second-Query-pharse-lexical-analysis-syntax-analysis-and-language-processing" class="headerlink" title="2. second: Query pharse lexical analysis, syntax analysis, and language processing"></a>2. second: Query pharse lexical analysis, syntax analysis, and language processing</h3><ol>
<li>lexical analysis used to distinguish words and key words</li>
<li>syntax analysis used to build a grammar tree by syntax rule</li>
<li>language processing just like the processe in building Index. check page 2</li>
</ol>
<h3 id="3-third-Traverse-Index-get-result-that-fit-syntax-tree"><a href="#3-third-Traverse-Index-get-result-that-fit-syntax-tree" class="headerlink" title="3. third: Traverse Index, get result that fit syntax tree"></a>3. third: Traverse Index, get result that fit syntax tree</h3><ol>
<li>first find the documents contain words(elephant tiger lion) in the posting list.</li>
<li>second merge documents contain both elephant, tiger or lion.</li>
<li>third separate documents contain sheep, got result contain both elephant, tiger or lion not sheep.</li>
</ol>
<h3 id="4-fourth-Sort-result-by-relevant-between-query-pharse-and-search-result"><a href="#4-fourth-Sort-result-by-relevant-between-query-pharse-and-search-result" class="headerlink" title="4. fourth: Sort result by relevant between query pharse and search result"></a>4. fourth: Sort result by relevant between query pharse and search result</h3><p> <strong>How to calculate the relevance between documents and query pharse?</strong><br> Toke query pharse as a shot document, scoring relevance between documents, the higher score is the higher rank document is.<br> <em>How to score the relevance between documents?</em><br> <strong><em>It’s not easy a thing</em></strong></p>
<ul>
<li>Check what is the important factors between documents</li>
<li>Check the relation between these factors</li>
</ul>
<hr>
<ul>
<li>The process of finding the importance of a word (Term) to a document is called the weight (Term) process.</li>
<li>The process of judging the relationship between Term to get document relevance using an algorithm called <code>Vector Space Model</code></li>
</ul>
<hr>
<h2 id="Term-weight-process"><a href="#Term-weight-process" class="headerlink" title="Term weight process"></a>Term weight process</h2><p><strong>This is a simple classic implementation, lucene’s have a little difference</strong></p>
<script type="math/tex; mode=display">w_{t_\eta}{_d} = tf_{t_\eta}{_d} \times log(n/df_t)</script><ul>
<li>$w<em>{t</em>\eta}{_d}$ = the weight of the term t in document d</li>
<li>$tf<em>{t</em>\eta}{_d}$ = frequency of term t in document d</li>
<li>$n$ = total number of documents</li>
<li>$df_t$ = the number of documents that contain term t</li>
</ul>
<ul>
<li>Term Frequency (tf): How many times this Term show in this document, the bigger tf is , the more importance this Term is.</li>
<li>Document Frequency (df)：How many documents contain this Term, the bigger df is, the less importance this Term is.</li>
</ul>
<p><strong>Like programmer, the deeper technology you leanr is better(tf big), the less technology people know is better (df little). When finding job your competitive power would be grate. Man’s value is about unsubsititutability</strong></p>
<h2 id="Vector-Space-Model"><a href="#Vector-Space-Model" class="headerlink" title="Vector Space Model"></a>Vector Space Model</h2><p><strong>Less the two vector’s angle is the more relevance is</strong><br><strong>We take two vector’s consine as the score point</strong></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://linchenguang.com/2017/01/29/Full-text-retrieval-fundamental-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Leon">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BurningBright">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2017/01/29/Full-text-retrieval-fundamental-1/" class="post-title-link" itemprop="url">Full-text retrieval fundamental (1)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-01-29 22:01:21" itemprop="dateCreated datePublished" datetime="2017-01-29T22:01:21+08:00">2017-01-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-12-16 14:31:36" itemprop="dateModified" datetime="2018-12-16T14:31:36+08:00">2018-12-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/search/" itemprop="url" rel="index"><span itemprop="name">search</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Introduce"><a href="#Introduce" class="headerlink" title="Introduce"></a>Introduce</h2><ul>
<li>结构化数据: 指有规律结构固定格式长度的数据, 如数据库</li>
<li>非结构化数据: 指无规律不定长不固定格式的数据, 如邮件</li>
<li>半结构化数据: XML/HTML等, 可按需求以不同形式处理</li>
</ul>
<p>非结构化数据又一种叫法叫全文数据。</p>
<p>全文检索大体分两个过程，索引创建(Indexing)和搜索索引(Search)。</p>
<ul>
<li>索引创建：将现实世界中所有的结构化和非结构化数据提取信息，创建索引的过程。</li>
<li>搜索索引：就是得到用户的查询请求，搜索创建的索引，然后返回结果的过程。</li>
</ul>
<p>全文检索就存在三个重要问题：</p>
<ol>
<li>索引里面究竟存些什么？(Index)</li>
<li>如何创建索引？(Indexing)</li>
<li>如何对索引进行搜索？(Search)</li>
</ol>
<h2 id="What-fuck-in-these-Index"><a href="#What-fuck-in-these-Index" class="headerlink" title="What fuck in these Index"></a>What fuck in these Index</h2><ul>
<li>存的是<strong> 符号表 </strong> 通俗的说是个映射表</li>
<li>从字符串到文件的映射是文件到字符串映射的反向过程，于是保存这种信息的索引称为<strong> 反向索引 </strong> 。</li>
<li>左边的一系列为词典也叫Key</li>
<li>右边的一系列为倒排表也叫Value</li>
</ul>
<p><em>建索引的好处是一次建立, 多次使用, 如果建索引的频率过于频繁反而会拖累整体性能</em></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/24/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><span class="page-number current">25</span><a class="page-number" href="/page/26/">26</a><a class="page-number" href="/page/27/">27</a><a class="extend next" rel="next" href="/page/26/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Leon</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">262</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">19</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">53</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/burningbright" title="GitHub &rarr; https://github.com/burningbright" rel="noopener" target="_blank"><i class="fa fa-fw fa-globe"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.mathjax.org/#demo" title="https://www.mathjax.org/#demo" rel="noopener" target="_blank">mathjax</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.katex.org" title="https://www.katex.org" rel="noopener" target="_blank">katex</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/cron" title="http://www.linchenguang.com/cron" rel="noopener" target="_blank">cron</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/dos" title="http://www.linchenguang.com/dos" rel="noopener" target="_blank">dos</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/keyboard" title="http://www.linchenguang.com/keyboard" rel="noopener" target="_blank">keyboard</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/regex" title="http://www.linchenguang.com/regex" rel="noopener" target="_blank">regex</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/sql" title="http://www.linchenguang.com/sql" rel="noopener" target="_blank">sql</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.linchenguang.com/toy" title="http://www.linchenguang.com/toy" rel="noopener" target="_blank">toy</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  
    <div id="sidebar-dimmer"></div>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 – <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Leon</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.1.2</div>




        


  <script>
    var _mtac = {};
    (function() {
      var mta = document.createElement("script");
      mta.src = "https://pingjs.qq.com/h5/stats.js";
      mta.setAttribute("name", "MTAH5");
      mta.setAttribute("sid", "500722550");
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(mta, s);
    })();
  </script>







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.2"></script>

  <script src="/js/motion.js?v=7.1.2"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.2"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.2"></script>


  

  

  

  



  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  


  

  

  

  

  

  

  

  

  

  

  


  <!-- 代码块复制功能 -->
  <script type="text/javascript" src="/js/clipboard.min.js"></script>  
  <script type="text/javascript" src="/js/clipboard-use.js"></script>
</body>
</html>
